<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>StudyFlow - Focus &amp; Productivity Timer | Pomodoro Study App</title>
  <meta name="title" content="StudyFlow - Focus &amp; Productivity Timer | Pomodoro Study App">
  <meta name="description" content="Boost your productivity with StudyFlow - a beautiful focus timer app featuring Pomodoro technique, task management, study analytics, and ambient music. Perfect for students and professionals.">
  <meta name="keywords" content="pomodoro timer, focus timer, study app, productivity app, task manager, study tracker, focus music, time management, student productivity">
  <meta name="author" content="Salah Uddin Kader">
  <meta name="robots" content="index, follow">
  <meta name="language" content="English">
  <meta name="revisit-after" content="7 days">
  <meta name="google-site-verification" content="m1vFRt3NnSSZcsT-BZIhy3o9RC5lPgoaLCXbEJWjbQU" />
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://studyflow-web.netlify.app/">
  <meta property="og:title" content="StudyFlow - Focus &amp; Productivity Timer">
  <meta property="og:description" content="Boost your productivity with StudyFlow - a beautiful focus timer app featuring Pomodoro technique, task management, and study analytics.">
  <meta property="og:image" content="https://studyflow-web.netlify.app/Assets/brain-duotone.png">
  <meta property="og:image:width" content="512">
  <meta property="og:image:height" content="512">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="StudyFlow">
  <meta property="og:locale" content="en_US">
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://studyflow-web.netlify.app/">
  <meta property="twitter:title" content="StudyFlow - Focus &amp; Productivity Timer">
  <meta property="twitter:description" content="Boost your productivity with StudyFlow - a beautiful focus timer app featuring Pomodoro technique, task management, and study analytics.">
  <meta property="twitter:image" content="https://studyflow-web.netlify.app/Assets/brain-duotone.png">
  <meta property="twitter:creator" content="@studyflowapp"><meta name="theme-color" content="#8b5cf6">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="StudyFlow">
  <meta name="application-name" content="StudyFlow">
  <meta name="msapplication-TileColor" content="#8b5cf6">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png"><link rel="preload" href="Assets/style.css" as="style">
  <link rel="preload" href="Assets/script.js" as="script">
  <link rel="dns-prefetch" href="//cdn.tailwindcss.com">
  <link rel="dns-prefetch" href="//unpkg.com">
  <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
  <link rel="icon" type="image/svg+xml" href="Assets/brain-duotone.png">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="Assets/style.css">
  <script src="https://cdn.tailwindcss.com"></script><script src="https://unpkg.com/vue@3/dist/vue.global.js"></script><script src="https://unpkg.com/@phosphor-icons/web"></script><script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <script src="https://www.youtube.com/iframe_api"></script>
  <style>
    @view-transition { navigation: auto; }
    [v-cloak] { display: none !important; }
  </style>
 </head>
 <body class="theme-dark">
  <div id="app" v-cloak><div :class="{ 'hidden': isTouchDevice }" class="custom-cursor" ref="cursor"></div>
   <div :class="{ 'hidden': isTouchDevice }" class="custom-cursor-dot" ref="cursorDot"></div><div class="particle-container" ref="particleContainer"></div><audio ref="audioPlayer" @ended="onTrackEnded" @error="handleAudioError" crossorigin="anonymous"></audio><div v-if="showYouTubePlayer && youtubeVideoId" class="fixed bottom-4 right-4 z-40 glass rounded-2xl p-4 shadow-2xl max-w-sm">
    <div class="flex items-center justify-between mb-3">
     <div class="flex items-center gap-2">
      <div class="w-8 h-8 rounded-lg bg-red-600 flex items-center justify-center"><i class="ph-bold ph-youtube-logo text-sm text-white"></i></div>
      <div>
       <div class="font-semibold text-sm">YouTube Music</div>
       <div class="text-xs opacity-70">Playing from YouTube</div>
      </div>
     </div>
     <button @click="stopYouTubeVideo" class="text-red-400 hover:text-red-300"><i class="ph-bold ph-x text-lg"></i></button>
    </div>
    <div class="aspect-video rounded-lg overflow-hidden mb-3">
     <div id="youtube-player" class="w-full h-full"></div>
    </div>
    <div class="flex items-center justify-center gap-2">
     <button @click="toggleYouTubeMute" class="btn-secondary p-1.5 rounded-full hover:bg-purple-600 transition-colors">
      <i :class="youtubeMuted ? 'ph-bold ph-speaker-x' : 'ph-bold ph-speaker-high'" class="text-sm"></i>
     </button>
     <div class="flex items-center gap-1">
      <i class="ph-bold ph-speaker-low text-purple-400 text-xs"></i>
      <input type="range" min="0" max="100" v-model="youtubeVolume" @input="setYouTubeVolume" class="w-12 accent-purple-500">
      <i class="ph-bold ph-speaker-high text-purple-400 text-xs"></i>
     </div>
     <div class="flex items-center gap-1">
      <span class="text-xs text-purple-400">Speed</span>
      <input type="range" min="0.25" max="2" step="0.25" v-model="youtubeSpeed" @input="setYouTubeSpeed" class="w-10 accent-purple-500">
      <span class="text-xs text-purple-400">{{ youtubeSpeed }}x</span>
     </div>
     <button @click="playYouTubeManually" class="btn-primary p-1.5 rounded-full hover:bg-pink-600 transition-colors">
      <i :class="isPlaying ? 'ph-bold ph-pause' : 'ph-bold ph-play'" class="text-sm"></i>
     </button>
     <button @click="openInYouTube" class="btn-secondary p-1.5 rounded-full hover:bg-red-600 transition-colors">
      <i class="ph-bold ph-youtube-logo text-sm"></i>
     </button>
    </div>
   </div><div v-if="showLoginSuccess" class="fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 modal-backdrop">
    <div class="text-center animate-fadeIn">
     <div class="mb-6 relative"><i class="ph-bold ph-check-circle text-8xl text-green-400 animate-pulse"></i>
      <div class="absolute inset-0 flex items-center justify-center">
       <div class="w-32 h-32 border-4 border-green-400 rounded-full animate-ping opacity-20"></div>
      </div>
     </div>
     <h1 class="text-5xl font-bold gradient-text mb-4">Welcome Back!</h1>
     <p class="text-purple-200 text-lg">{{ userFullName }}</p>
     <div class="mt-8 flex justify-center">
      <div class="flex gap-2">
       <div class="w-3 h-3 bg-purple-400 rounded-full animate-bounce" style="animation-delay: 0s;"></div>
       <div class="w-3 h-3 bg-pink-400 rounded-full animate-bounce" style="animation-delay: 0.1s;"></div>
       <div class="w-3 h-3 bg-blue-400 rounded-full animate-bounce" style="animation-delay: 0.2s;"></div>
      </div>
     </div>
    </div>
   </div><div v-if="showLoginDoor" class="fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900">
    <div class="relative w-full h-full flex items-center justify-center"><div class="login-door-animation absolute inset-0 bg-gradient-to-br from-purple-800 to-indigo-900 flex items-center justify-center" style="transform-origin: left center;">
      <div class="text-center"><i class="ph-bold ph-door-open text-9xl text-purple-300 mb-4"></i>
       <h2 class="text-4xl font-bold text-white">Opening...</h2>
      </div>
     </div><div class="login-content-animation text-center"><i class="ph-bold ph-check-circle text-8xl text-green-400 mb-4"></i>
      <h1 class="text-5xl font-bold gradient-text">Welcome!</h1>
     </div>
    </div>
   </div><div v-if="showLogoutAnimation" class="fixed inset-0 z-50 pointer-events-none overflow-hidden">
    <div class="logout-animation absolute" :style="logoutButtonPosition">
     <div class="glass-strong px-6 py-3 rounded-xl flex items-center gap-2 text-red-400"><i class="ph-bold ph-sign-out text-xl"></i> <span class="font-semibold">Logout</span>
     </div>
    </div>
   </div><div v-if="showLoader" class="fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900">
    <div class="text-center animate-fadeIn">
     <div class="mb-6"><i class="ph-bold ph-brain text-7xl text-purple-300 animate-spin" style="animation-duration: 3s;"></i>
     </div>
     <h1 class="text-5xl font-bold gradient-text mb-4">StudyFlow</h1>
     <p class="text-purple-200 text-lg">Your Focus Companion</p>
     <div class="mt-8 flex justify-center">
      <div class="w-48 h-1 bg-purple-900 rounded-full overflow-hidden">
       <div class="h-full bg-gradient-to-r from-purple-400 to-pink-400 animate-pulse" style="width: 100%;"></div>
      </div>
     </div>
    </div>
   </div><div v-if="showOutro" class="fixed inset-0 z-50 flex items-center justify-center bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 modal-backdrop">
    <div class="text-center animate-fadeIn">
     <div class="mb-6"><i class="ph-bold ph-hand-waving text-7xl text-yellow-300 animate-pulse"></i>
     </div>
     <h1 class="text-5xl font-bold gradient-text mb-4">See You Soon!</h1>
     <p class="text-purple-200 text-lg">Keep up the great work üöÄ</p>
    </div>
   </div><div v-if="showDeveloperModal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop overflow-y-auto" @click="showDeveloperModal = false">
    <div class="glass-strong rounded-3xl p-4 sm:p-6 md:p-8 max-w-2xl w-full my-8 animate-slideUp max-h-[90vh] overflow-y-auto" @click.stop><div class="text-center mb-6 sm:mb-8">
      <div class="w-24 h-24 sm:w-32 sm:h-32 mx-auto mb-4 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-4xl sm:text-5xl font-bold overflow-hidden">
       <img src="https://avatars.githubusercontent.com/salahuddingfx" alt="Salah Uddin Kader" class="w-full h-full object-cover rounded-full">
      </div>
      <h3 class="text-2xl sm:text-3xl font-bold mb-2">Salah Uddin Kader</h3>
      <p class="text-sm sm:text-base text-purple-400 font-medium">Full Stack Developer &amp; UI/UX Designer</p>
     </div><div class="glass p-4 sm:p-6 rounded-xl mb-4 sm:mb-6">
      <div class="flex items-center gap-2 mb-3"><i class="ph-bold ph-user-circle text-xl sm:text-2xl text-purple-400"></i>
       <h4 class="text-lg sm:text-xl font-bold">About</h4>
      </div>
      <p class="text-sm sm:text-base leading-relaxed">Passionate developer focused on creating beautiful, functional applications that enhance productivity. Specialized in building intuitive user experiences with modern web technologies.</p>
     </div><div class="glass p-4 sm:p-6 rounded-xl mb-4 sm:mb-6">
      <div class="flex items-center gap-2 mb-4"><i class="ph-bold ph-code text-xl sm:text-2xl text-purple-400"></i>
       <h4 class="text-lg sm:text-xl font-bold">Skills</h4>
      </div>
      <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-2 sm:gap-3">
       <div class="glass-strong p-2 sm:p-3 rounded-lg flex items-center gap-2"><i class="ph-bold ph-file-vue text-lg sm:text-xl text-green-400"></i> <span class="text-xs sm:text-sm font-medium">Vue.js</span>
       </div>
       <div class="glass-strong p-2 sm:p-3 rounded-lg flex items-center gap-2"><i class="ph-bold ph-file-js text-lg sm:text-xl text-yellow-400"></i> <span class="text-xs sm:text-sm font-medium">JavaScript</span>
       </div>
       <div class="glass-strong p-2 sm:p-3 rounded-lg flex items-center gap-2"><i class="ph-bold ph-file-css text-lg sm:text-xl text-blue-400"></i> <span class="text-xs sm:text-sm font-medium">CSS/Tailwind</span>
       </div>
       <div class="glass-strong p-2 sm:p-3 rounded-lg flex items-center gap-2"><i class="ph-bold ph-file-html text-lg sm:text-xl text-orange-400"></i> <span class="text-xs sm:text-sm font-medium">HTML5</span>
       </div>
       <div class="glass-strong p-2 sm:p-3 rounded-lg flex items-center gap-2"><i class="ph-bold ph-figma-logo text-lg sm:text-xl text-purple-400"></i> <span class="text-xs sm:text-sm font-medium">Figma</span>
       </div>
       <div class="glass-strong p-2 sm:p-3 rounded-lg flex items-center gap-2"><i class="ph-bold ph-git-branch text-lg sm:text-xl text-red-400"></i> <span class="text-xs sm:text-sm font-medium">Git</span>
       </div>
      </div>
     </div><div class="glass p-4 sm:p-6 rounded-xl mb-4 sm:mb-6">
      <div class="flex items-center gap-2 mb-4"><i class="ph-bold ph-share-network text-xl sm:text-2xl text-purple-400"></i>
       <h4 class="text-lg sm:text-xl font-bold">Connect</h4>
      </div>
      <div class="grid grid-cols-2 gap-2 sm:gap-3"><a href="https://github.com/salahuddingfx" target="_blank" rel="noopener noreferrer" class="glass-strong px-3 sm:px-4 py-2 sm:py-3 rounded-lg flex items-center gap-2 hover:bg-white/10"> <i class="ph-bold ph-github-logo text-lg sm:text-xl"></i> <span class="text-xs sm:text-sm font-medium">GitHub</span> </a> <a href="https://facebook.com/salahuddingfx" target="_blank" rel="noopener noreferrer" class="glass-strong px-3 sm:px-4 py-2 sm:py-3 rounded-lg flex items-center gap-2 hover:bg-white/10"> <i class="ph-bold ph-facebook-logo text-lg sm:text-xl text-blue-400"></i> <span class="text-xs sm:text-sm font-medium">Facebook</span> </a> <a href="https://twitter.com/salahuddingfx" target="_blank" rel="noopener noreferrer" class="glass-strong px-3 sm:px-4 py-2 sm:py-3 rounded-lg flex items-center gap-2 hover:bg-white/10"> <i class="ph-bold ph-twitter-logo text-lg sm:text-xl text-sky-400"></i> <span class="text-xs sm:text-sm font-medium">Twitter</span> </a> <a href="mailto:salauddinkaderappy@gmail.com" class="glass-strong px-3 sm:px-4 py-2 sm:py-3 rounded-lg flex items-center gap-2 hover:bg-white/10"> <i class="ph-bold ph-envelope text-lg sm:text-xl text-purple-400"></i> <span class="text-xs sm:text-sm font-medium">Email</span> </a>
      </div>
     </div><button @click="showDeveloperModal = false" class="w-full btn-primary px-6 py-3 rounded-xl font-semibold text-white"> Close </button>
    </div>
   </div>
   <div v-if="showDataModal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop overflow-y-auto" @click="showDataModal = false">
    <div class="glass-strong rounded-3xl p-1 max-w-2xl w-full my-8 animate-slideUp overflow-hidden" @click.stop>
     <div class="bg-gradient-to-br from-purple-900/50 to-indigo-900/50 p-6 sm:p-8">
      
      <div class="flex items-center justify-between mb-8">
       <div>
        <h3 class="text-2xl font-bold flex items-center gap-2"><i class="ph-bold ph-database text-purple-400"></i> Data Center</h3>
        <p class="text-sm opacity-60">Manage your progress and backups</p>
       </div>
       <button @click="showDataModal = false" class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors"><i class="ph-bold ph-x"></i></button>
      </div>

      <div class="grid grid-cols-3 gap-3 mb-8">
       <div class="glass p-3 rounded-xl text-center">
        <i class="ph-bold ph-clock text-purple-400 text-xl mb-1"></i>
        <div class="text-lg font-bold">{{ Math.floor(totalFocusTime / 60) }}h</div>
        <div class="text-xs opacity-60">Focus Time</div>
       </div>
       <div class="glass p-3 rounded-xl text-center">
        <i class="ph-bold ph-check-circle text-green-400 text-xl mb-1"></i>
        <div class="text-lg font-bold">{{ completedTasksCount }}</div>
        <div class="text-xs opacity-60">Tasks Done</div>
       </div>
       <div class="glass p-3 rounded-xl text-center">
        <i class="ph-bold ph-fire text-orange-400 text-xl mb-1"></i>
        <div class="text-lg font-bold">{{ currentStreak }}</div>
        <div class="text-xs opacity-60">Day Streak</div>
       </div>
      </div>

      <div class="grid md:grid-cols-2 gap-4">
       <div class="glass p-5 rounded-2xl hover:bg-white/5 transition-colors border border-purple-500/20 relative overflow-hidden group">
        <div class="absolute top-0 right-0 w-20 h-20 bg-purple-500/10 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"></div>
        <div class="relative z-10">
         <div class="w-12 h-12 rounded-xl bg-purple-600/20 flex items-center justify-center mb-4 text-purple-400">
          <i class="ph-bold ph-file-pdf text-2xl"></i>
         </div>
         <h4 class="text-lg font-bold mb-1">Performance Report</h4>
         <p class="text-xs opacity-70 mb-4 h-8">Download a beautifully designed PDF summary of your study journey.</p>
         <button @click="exportUserData" class="w-full btn-primary py-2.5 rounded-xl font-semibold text-sm flex items-center justify-center gap-2">
          <i class="ph-bold ph-download-simple"></i> Download PDF
         </button>
        </div>
       </div>

       <div class="glass p-5 rounded-2xl hover:bg-white/5 transition-colors border border-blue-500/20 relative overflow-hidden group">
        <div class="absolute top-0 right-0 w-20 h-20 bg-blue-500/10 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"></div>
        <div class="relative z-10">
         <div class="w-12 h-12 rounded-xl bg-blue-600/20 flex items-center justify-center mb-4 text-blue-400">
          <i class="ph-bold ph-cloud-arrow-up text-2xl"></i>
         </div>
         <h4 class="text-lg font-bold mb-1">System Backup</h4>
         <p class="text-xs opacity-70 mb-4 h-8">Save raw data to restore later or transfer to another device.</p>
         <div class="flex gap-2">
          <button @click="downloadBackup" class="flex-1 glass-strong py-2.5 rounded-xl font-semibold text-sm hover:bg-white/10 flex items-center justify-center gap-1">
           <i class="ph-bold ph-download"></i> Backup
          </button>
          <label class="flex-1 glass-strong py-2.5 rounded-xl font-semibold text-sm hover:bg-white/10 flex items-center justify-center gap-1 cursor-pointer">
           <input type="file" accept=".json" @change="handleImportFile" class="hidden">
           <i class="ph-bold ph-upload"></i> Restore
          </label>
         </div>
        </div>
       </div>
      </div>

     </div>
    </div>
   </div><div v-if="showChangeCredentials" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop" @click="showChangeCredentials = false">
    <div class="glass-strong rounded-3xl p-8 max-w-md w-full animate-slideUp" @click.stop>
     <h3 class="text-2xl font-bold mb-6">Change Credentials</h3>
     <form @submit.prevent="handleChangeCredentials">
      <div class="mb-4"><label class="block text-sm font-medium mb-2">New Username</label> <input v-model="credentialsForm.newUsername" type="text" required class="w-full px-4 py-3 rounded-xl glass" placeholder="Enter new username">
      </div>
      <div class="mb-4"><label class="block text-sm font-medium mb-2">Current Password</label>
       <div class="relative"><input v-model="credentialsForm.currentPassword" :type="showCurrentPassword ? 'text' : 'password'" required class="w-full px-4 py-3 rounded-xl glass pr-12" placeholder="Verify current password"> <button type="button" @click="showCurrentPassword = !showCurrentPassword" class="absolute right-3 top-1/2 transform -translate-y-1/2 hover:text-purple-400"> <i :class="showCurrentPassword ? 'ph-bold ph-eye-slash' : 'ph-bold ph-eye'" class="text-xl"></i> </button>
       </div>
      </div>
      <div class="mb-6"><label class="block text-sm font-medium mb-2">New Password (Optional)</label>
       <div class="relative"><input v-model="credentialsForm.newPassword" :type="showNewPassword ? 'text' : 'password'" class="w-full px-4 py-3 rounded-xl glass pr-12" placeholder="Leave blank to keep current" @input="checkNewPasswordStrength"> <button type="button" @click="showNewPassword = !showNewPassword" class="absolute right-3 top-1/2 transform -translate-y-1/2 hover:text-purple-400"> <i :class="showNewPassword ? 'ph-bold ph-eye-slash' : 'ph-bold ph-eye'" class="text-xl"></i> </button>
       </div>
       <div v-if="credentialsForm.newPassword" class="mt-2">
        <div class="flex items-center gap-2 mb-1">
         <div class="flex-1 h-2 bg-gray-700 rounded-full overflow-hidden">
          <div class="h-full transition-all duration-300" :class="newPasswordStrengthColor" :style="{ width: newPasswordStrengthWidth }"></div>
         </div><span class="text-xs font-medium" :class="newPasswordStrengthTextColor"> {{ newPasswordStrengthText }} </span>
        </div>
       </div>
      </div>
      <div class="flex gap-3"><button type="button" @click="showChangeCredentials = false" class="flex-1 btn-secondary px-6 py-3 rounded-xl font-semibold text-white"> Cancel </button> <button type="submit" class="flex-1 btn-primary px-6 py-3 rounded-xl font-semibold text-white"> Update </button>
      </div>
     </form>
    </div>
   </div><div v-if="showThemeModal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop overflow-y-auto" @click="showThemeModal = false">
    <div class="glass-strong rounded-3xl p-8 max-w-2xl w-full my-8 animate-slideUp" @click.stop>
     <h3 class="text-2xl font-bold mb-6 flex items-center gap-2"><i class="ph-bold ph-palette text-purple-400"></i> Choose Your Theme</h3>
     <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-6"><button @click="changeTheme('dark')" :class="currentTheme === 'dark' ? 'ring-4 ring-purple-500' : ''" class="relative overflow-hidden rounded-xl h-32 transition-all hover:scale-105" style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)">
       <div class="absolute inset-0 flex items-center justify-center">
        <div class="text-center"><i class="ph-bold ph-moon text-3xl mb-2"></i>
         <div class="font-semibold">
          Dark
         </div>
        </div>
       </div></button> <button @click="changeTheme('light')" :class="currentTheme === 'light' ? 'ring-4 ring-blue-500' : ''" class="relative overflow-hidden rounded-xl h-32 transition-all hover:scale-105" style="background: linear-gradient(135deg, #f0f4f8 0%, #d9e2ec 50%, #bcccdc 100%)">
       <div class="absolute inset-0 flex items-center justify-center">
        <div class="text-center text-gray-800"><i class="ph-bold ph-sun text-3xl mb-2"></i>
         <div class="font-semibold">
          Light
         </div>
        </div>
       </div></button> <button @click="changeTheme('midnight')" :class="currentTheme === 'midnight' ? 'ring-4 ring-purple-500' : ''" class="relative overflow-hidden rounded-xl h-32 transition-all hover:scale-105" style="background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%)">
       <div class="absolute inset-0 flex items-center justify-center">
        <div class="text-center"><i class="ph-bold ph-moon-stars text-3xl mb-2"></i>
         <div class="font-semibold">
          Midnight
         </div>
        </div>
       </div></button> <button @click="changeTheme('morning')" :class="currentTheme === 'morning' ? 'ring-4 ring-orange-500' : ''" class="relative overflow-hidden rounded-xl h-32 transition-all hover:scale-105" style="background: linear-gradient(135deg, #ff9a56 0%, #ff6a88 50%, #ffecd2 100%)">
       <div class="absolute inset-0 flex items-center justify-center">
        <div class="text-center"><i class="ph-bold ph-sun-horizon text-3xl mb-2"></i>
         <div class="font-semibold">
          Morning
         </div>
        </div>
       </div></button> <button @click="changeTheme('evening')" :class="currentTheme === 'evening' ? 'ring-4 ring-blue-500' : ''" class="relative overflow-hidden rounded-xl h-32 transition-all hover:scale-105" style="background: linear-gradient(135deg, #2c3e50 0%, #3498db 50%, #2980b9 100%)">
       <div class="absolute inset-0 flex items-center justify-center">
        <div class="text-center"><i class="ph-bold ph-cloud-sun text-3xl mb-2"></i>
         <div class="font-semibold">
          Evening
         </div>
        </div>
       </div></button> <button @click="changeTheme('forest')" :class="currentTheme === 'forest' ? 'ring-4 ring-green-500' : ''" class="relative overflow-hidden rounded-xl h-32 transition-all hover:scale-105" style="background: linear-gradient(135deg, #134e5e 0%, #71b280 50%, #0a3d3a 100%)">
       <div class="absolute inset-0 flex items-center justify-center">
        <div class="text-center"><i class="ph-bold ph-tree text-3xl mb-2"></i>
         <div class="font-semibold">
          Forest
         </div>
        </div>
       </div></button> <button @click="changeTheme('sunset')" :class="currentTheme === 'sunset' ? 'ring-4 ring-red-500' : ''" class="relative overflow-hidden rounded-xl h-32 transition-all hover:scale-105" style="background: linear-gradient(135deg, #ff512f 0%, #dd2476 50%, #f09819 100%)">
       <div class="absolute inset-0 flex items-center justify-center">
        <div class="text-center"><i class="ph-bold ph-sunset text-3xl mb-2"></i>
         <div class="font-semibold">
          Sunset
         </div>
        </div>
       </div></button> <button @click="changeTheme('ocean')" :class="currentTheme === 'ocean' ? 'ring-4 ring-cyan-500' : ''" class="relative overflow-hidden rounded-xl h-32 transition-all hover:scale-105" style="background: linear-gradient(135deg, #667db6 0%, #0082c8 50%, #667db6 100%)">
       <div class="absolute inset-0 flex items-center justify-center">
        <div class="text-center"><i class="ph-bold ph-waves text-3xl mb-2"></i>
         <div class="font-semibold">
          Ocean
         </div>
        </div>
       </div></button> <button @click="changeTheme('lavender')" :class="currentTheme === 'lavender' ? 'ring-4 ring-purple-500' : ''" class="relative overflow-hidden rounded-xl h-32 transition-all hover:scale-105" style="background: linear-gradient(135deg, #a8c0ff 0%, #3f2b96 50%, #a8c0ff 100%)">
       <div class="absolute inset-0 flex items-center justify-center">
        <div class="text-center"><i class="ph-bold ph-flower text-3xl mb-2"></i>
         <div class="font-semibold">
          Lavender
         </div>
        </div>
       </div></button> <button @click="changeTheme('cherry')" :class="currentTheme === 'cherry' ? 'ring-4 ring-pink-500' : ''" class="relative overflow-hidden rounded-xl h-32 transition-all hover:scale-105" style="background: linear-gradient(135deg, #eb3349 0%, #f45c43 50%, #eb3349 100%)">
       <div class="absolute inset-0 flex items-center justify-center">
        <div class="text-center"><i class="ph-bold ph-heart text-3xl mb-2"></i>
         <div class="font-semibold">
          Cherry
         </div>
        </div>
       </div></button>
     </div><button @click="showThemeModal = false" class="w-full btn-primary px-6 py-3 rounded-xl font-semibold text-white"> Done </button>
    </div>
   </div><div v-if="showNotificationSettings" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop overflow-y-auto" @click="showNotificationSettings = false">
    <div class="glass-strong rounded-3xl p-6 md:p-8 max-w-md w-full my-8 animate-slideUp" @click.stop>
     <h3 class="text-2xl font-bold mb-6 flex items-center gap-2"><i class="ph-bold ph-bell text-purple-400"></i> Notifications</h3>
     
     <div class="space-y-6">
      <div class="flex items-center justify-between">
       <div>
        <div class="font-semibold">Enable Notifications</div>
        <div class="text-sm text-gray-400">Allow browser notifications</div>
       </div>
       <button @click="requestNotificationPermission()" :class="notificationsEnabled ? 'bg-green-500' : 'bg-gray-600'" class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors">
        <span :class="notificationsEnabled ? 'translate-x-6' : 'translate-x-1'" class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"></span>
       </button>
      </div>

      <div class="flex items-center justify-between">
       <div>
        <div class="font-semibold">Study Reminders</div>
        <div class="text-sm text-gray-400">Remind to study when inactive</div>
       </div>
       <button @click="studyReminders = !studyReminders; saveNotificationSettings()" :class="studyReminders ? 'bg-purple-500' : 'bg-gray-600'" class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors">
        <span :class="studyReminders ? 'translate-x-6' : 'translate-x-1'" class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"></span>
       </button>
      </div>

      <div v-if="studyReminders" class="ml-4">
       <label class="block text-sm font-medium mb-2">Reminder Interval (minutes)</label>
       <input v-model.number="reminderInterval" @change="saveNotificationSettings()" type="number" min="15" max="240" class="w-full px-3 py-2 rounded-xl glass border-0 focus:ring-2 focus:ring-purple-500">
      </div>

      <div class="flex items-center justify-between">
       <div>
        <div class="font-semibold">Goal Deadlines</div>
        <div class="text-sm text-gray-400">Alert for upcoming deadlines</div>
       </div>
       <button @click="goalDeadlines = !goalDeadlines; saveNotificationSettings()" :class="goalDeadlines ? 'bg-purple-500' : 'bg-gray-600'" class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors">
        <span :class="goalDeadlines ? 'translate-x-6' : 'translate-x-1'" class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"></span>
       </button>
      </div>

      <div class="flex items-center justify-between">
       <div>
        <div class="font-semibold">Streak Alerts</div>
        <div class="text-sm text-gray-400">Warn when streak is at risk</div>
       </div>
       <button @click="streakAlerts = !streakAlerts; saveNotificationSettings()" :class="streakAlerts ? 'bg-purple-500' : 'bg-gray-600'" class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors">
        <span :class="streakAlerts ? 'translate-x-6' : 'translate-x-1'" class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"></span>
       </button>
      </div>
     </div>

     <button @click="showNotificationSettings = false" class="w-full btn-primary px-6 py-3 rounded-xl font-semibold text-white mt-6"> Done </button>
    </div>
   </div><div v-if="showAdvancedTimer" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop overflow-y-auto" @click="showAdvancedTimer = false">
    <div class="glass-strong rounded-3xl p-6 md:p-8 max-w-md w-full my-8 animate-slideUp" @click.stop>
     <h3 class="text-2xl font-bold mb-6 flex items-center gap-2"><i class="ph-bold ph-timer text-purple-400"></i> Advanced Timer</h3>
     
     <div class="space-y-6">
      <div>
       <label class="block text-sm font-medium mb-2">Focus Duration (minutes)</label>
       <input v-model.number="focusDuration" @change="saveTimerSettings()" type="number" min="1" max="120" class="w-full px-3 py-2 rounded-xl glass border-0 focus:ring-2 focus:ring-purple-500">
      </div>

      <div>
       <label class="block text-sm font-medium mb-2">Short Break Duration (minutes)</label>
       <input v-model.number="shortBreakDuration" @change="saveTimerSettings()" type="number" min="1" max="30" class="w-full px-3 py-2 rounded-xl glass border-0 focus:ring-2 focus:ring-purple-500">
      </div>

      <div>
       <label class="block text-sm font-medium mb-2">Long Break Duration (minutes)</label>
       <input v-model.number="longBreakDuration" @change="saveTimerSettings()" type="number" min="1" max="60" class="w-full px-3 py-2 rounded-xl glass border-0 focus:ring-2 focus:ring-purple-500">
      </div>

      <div>
       <label class="block text-sm font-medium mb-2">Sessions Until Long Break</label>
       <input v-model.number="sessionsUntilLongBreak" @change="saveTimerSettings()" type="number" min="2" max="10" class="w-full px-3 py-2 rounded-xl glass border-0 focus:ring-2 focus:ring-purple-500">
      </div>

      <div class="flex items-center justify-between">
       <div>
        <div class="font-semibold">Auto-start Breaks</div>
        <div class="text-sm text-gray-400">Automatically start breaks after focus</div>
       </div>
       <button @click="autoStartBreaks = !autoStartBreaks; saveTimerSettings()" :class="autoStartBreaks ? 'bg-purple-500' : 'bg-gray-600'" class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors">
        <span :class="autoStartBreaks ? 'translate-x-6' : 'translate-x-1'" class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"></span>
       </button>
      </div>

      <div class="flex items-center justify-between">
       <div>
        <div class="font-semibold">Auto-start Focus</div>
        <div class="text-sm text-gray-400">Automatically start focus after breaks</div>
       </div>
       <button @click="autoStartFocus = !autoStartFocus; saveTimerSettings()" :class="autoStartFocus ? 'bg-purple-500' : 'bg-gray-600'" class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors">
        <span :class="autoStartFocus ? 'translate-x-6' : 'translate-x-1'" class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"></span>
       </button>
      </div>
     </div>

     <button @click="showAdvancedTimer = false" class="w-full btn-primary px-6 py-3 rounded-xl font-semibold text-white mt-6"> Done </button>
    </div>
   </div><div v-if="showMusicModal" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop overflow-y-auto" @click="showMusicModal = false">
    <div class="glass-strong rounded-3xl p-6 md:p-8 max-w-3xl w-full my-8 animate-slideUp max-h-[90vh] overflow-y-auto" @click.stop>
     <h3 class="text-2xl font-bold mb-6 flex items-center gap-2"><i class="ph-bold ph-music-notes text-purple-400"></i> Focus Music</h3>
     
     <div class="flex gap-2 mb-6">
      <button @click="musicTab = 'playlists'" :class="musicTab === 'playlists' ? 'bg-purple-600 text-white' : 'bg-gray-700 text-gray-300'" class="px-4 py-2 rounded-xl font-medium transition-all">My Playlists</button>
      <button @click="musicTab = 'youtube'" :class="musicTab === 'youtube' ? 'bg-purple-600 text-white' : 'bg-gray-700 text-gray-300'" class="px-4 py-2 rounded-xl font-medium transition-all">YouTube Music</button>
     </div><div v-if="currentTrack" class="glass rounded-2xl p-6 mb-6">
      <div class="flex items-center gap-4 mb-4">
       <div class="w-16 h-16 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center"><i class="ph-bold ph-music-note text-3xl"></i>
       </div>
       <div class="flex-1">
        <div class="font-semibold text-lg">
         {{ currentTrack.name }}
        </div>
        <div class="text-sm opacity-70">
         {{ currentPlaylist.name }}
        </div>
       </div>
      </div>
      <div class="flex items-center gap-4 mb-4"><button @click="toggleMusic" class="w-12 h-12 rounded-full bg-purple-600 hover:bg-purple-700 flex items-center justify-center"> <i :class="isPlaying ? 'ph-bold ph-pause' : 'ph-bold ph-play'" class="text-2xl"></i> </button> <button @click="stopMusic" class="w-12 h-12 rounded-full bg-gray-600 hover:bg-gray-700 flex items-center justify-center"> <i class="ph-bold ph-stop text-2xl"></i> </button>
       <div class="flex-1 flex items-center gap-3"><i class="ph-bold ph-speaker-high text-xl"></i> <input type="range" v-model="musicVolume" @input="updateVolume" min="0" max="100" class="flex-1"> <span class="text-sm w-12">{{ musicVolume }}%</span>
       </div>
      </div>
     </div><div v-if="musicTab === 'playlists'" class="mb-6">
      <div class="flex justify-between items-center mb-4">
       <h4 class="text-xl font-semibold">Your Playlists</h4><button @click="editingPlaylist = { name: '', tracks: [] }" class="btn-primary px-4 py-2 rounded-xl font-semibold text-sm flex items-center gap-2"> <i class="ph-bold ph-plus"></i> New Playlist </button>
      </div>
      <div v-if="musicPlaylists.length === 0" class="text-center py-8 glass rounded-xl opacity-70"><i class="ph-bold ph-playlist text-5xl mb-3"></i>
       <p>No playlists yet. Create your first one!</p>
      </div>
      <div v-else class="space-y-3">
       <div v-for="playlist in musicPlaylists" :key="playlist.id" class="glass rounded-xl p-4 hover:bg-white/10 transition-all">
        <div class="flex items-center justify-between mb-2">
         <div class="flex items-center gap-3"><i class="ph-bold ph-playlist text-2xl text-purple-400"></i>
          <div>
           <div class="font-semibold">
            {{ playlist.name }}
           </div>
           <div class="text-sm opacity-70">
            {{ playlist.tracks.length }} tracks
           </div>
          </div>
         </div>
         <div class="flex gap-2"><button @click="editingPlaylist = JSON.parse(JSON.stringify(playlist))" class="text-blue-400 hover:text-blue-300"> <i class="ph-bold ph-pencil text-xl"></i> </button> <button @click="deletePlaylist(playlist.id)" class="text-red-400 hover:text-red-300"> <i class="ph-bold ph-trash text-xl"></i> </button>
         </div>
        </div>
        <div v-if="playlist.tracks.length > 0" class="space-y-2 mt-3">
         <div v-for="track in playlist.tracks" :key="track.id" class="flex items-center justify-between glass-strong p-3 rounded-lg">
          <div class="flex items-center gap-2"><i class="ph-bold ph-music-note text-purple-400"></i> <span class="text-sm">{{ track.name }}</span>
          </div><button @click="playTrack(playlist, track)" class="text-green-400 hover:text-green-300"> <i class="ph-bold ph-play-circle text-xl"></i> </button>
         </div>
        </div>
       </div>
      </div>
     </div><div v-if="musicTab === 'youtube'" class="mb-6">
      <div class="flex justify-between items-center mb-4">
       <h4 class="text-xl font-semibold">YouTube Music</h4>
      </div>
      
      <div class="glass rounded-2xl p-6 mb-6">
       <h5 class="text-lg font-semibold mb-4 flex items-center gap-2"><i class="ph-bold ph-link text-red-400"></i> Play Custom YouTube Video</h5>
       <div class="flex gap-2">
        <input v-model="youtubeUrl" type="url" class="flex-1 px-4 py-3 rounded-xl glass" placeholder="https://www.youtube.com/watch?v=VIDEO_ID">
        <button @click="loadCustomYouTubeUrl" class="btn-primary px-6 py-3 rounded-xl font-semibold flex items-center gap-2"><i class="ph-bold ph-play"></i> Play</button>
       </div>
       <p class="text-xs opacity-70 mt-2">üí° Paste any YouTube URL and we'll extract the video for focus music</p>
      </div>

      <div class="space-y-4">
       <div v-for="playlist in youtubePlaylists" :key="playlist.name" class="glass rounded-xl p-4">
        <h5 class="text-lg font-semibold mb-3 flex items-center gap-2"><i class="ph-bold ph-youtube-logo text-red-500"></i> {{ playlist.name }}</h5>
        <div class="space-y-2">
         <div v-for="video in playlist.videos" :key="video.id" class="flex items-center justify-between glass-strong p-3 rounded-lg hover:bg-white/10 transition-all">
          <div class="flex items-center gap-3">
           <div class="w-10 h-10 rounded-lg bg-red-600 flex items-center justify-center"><i class="ph-bold ph-youtube-logo text-white text-sm"></i></div>
           <span class="text-sm">{{ video.title }}</span>
          </div>
          <button @click="playYouTubeVideo(video)" class="text-red-400 hover:text-red-300">
              <i class="ph-bold ph-play-circle text-xl"></i>
          </button>
         </div>
        </div>
       </div>
      </div>
     </div><div v-if="editingPlaylist && musicTab === 'playlists'" class="glass rounded-2xl p-6 mb-6">
      <h4 class="text-lg font-semibold mb-4">{{ editingPlaylist.id ? 'Edit Playlist' : 'Create New Playlist' }}</h4>
      <div class="mb-4"><label class="block text-sm font-medium mb-2">Playlist Name</label> <input v-model="editingPlaylist.name" type="text" class="w-full px-4 py-3 rounded-xl glass" placeholder="My Focus Playlist">
      </div>
      <div class="mb-4"><label class="block text-sm font-medium mb-2">Add Track</label>
       <div class="flex gap-2 mb-2"><input v-model="newTrackName" type="text" class="flex-1 px-4 py-3 rounded-xl glass" placeholder="Track name"> <input v-model="newTrackUrl" type="url" class="flex-1 px-4 py-3 rounded-xl glass" placeholder="https://example.com/music.mp3"> <button @click="addTrackToPlaylist" class="btn-primary px-4 py-3 rounded-xl font-semibold"> <i class="ph-bold ph-plus text-xl"></i> </button>
       </div>
       <div class="mb-2">
        <input type="file" multiple webkitdirectory @change="addFilesToPlaylist" accept="audio" class="w-full px-4 py-3 rounded-xl glass file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-purple-600 file:text-white hover:file:bg-purple-700">
        <p class="text-xs opacity-70 mt-1">üìÅ Select an audio folder to add all files at once</p>
       </div>
       <p class="text-xs opacity-70">üí° Use direct MP3 links. Many streaming services block playback.</p>
      </div>
      <div v-if="editingPlaylist.tracks && editingPlaylist.tracks.length > 0" class="mb-4">
       <div class="space-y-2">
        <div v-for="(track, index) in editingPlaylist.tracks" :key="track.id" class="flex items-center justify-between glass-strong p-3 rounded-lg">
         <div class="flex items-center gap-2"><i class="ph-bold ph-music-note text-purple-400"></i> <span class="text-sm">{{ track.name }}</span>
         </div><button @click="removeTrackFromPlaylist(index)" class="text-red-400 hover:text-red-300"> <i class="ph-bold ph-x text-xl"></i> </button>
        </div>
       </div>
      </div>
      <div class="flex gap-3"><button @click="editingPlaylist = null; newTrackName = ''; newTrackUrl = ''" class="flex-1 btn-secondary px-6 py-3 rounded-xl font-semibold"> Cancel </button> <button @click="savePlaylist" class="flex-1 btn-primary px-6 py-3 rounded-xl font-semibold"> Save Playlist </button>
      </div>
     </div><div v-if="showYouTubePlayer" class="glass rounded-2xl p-6 mb-6">
      <div class="flex items-center justify-between mb-4">
       <h4 class="text-lg font-semibold flex items-center gap-2"><i class="ph-bold ph-youtube-logo text-red-500"></i> Now Playing</h4>
       <button @click="stopYouTubeVideo" class="text-red-400 hover:text-red-300"><i class="ph-bold ph-x text-xl"></i></button>
      </div>
      <div class="aspect-video rounded-xl overflow-hidden">
       <div v-if="showYouTubePlayer" class="glass rounded-2xl p-6 mb-6">
    <div class="flex items-center justify-between mb-4">
        <div class="flex items-center gap-3">
            <div class="w-12 h-12 rounded-xl bg-red-600 flex items-center justify-center">
                <i class="ph-bold ph-youtube-logo text-2xl text-white"></i>
            </div>
            <div>
                <h4 class="text-lg font-semibold">Now Playing</h4>
                <div class="flex gap-2 mt-1">
                    <button @click="playYouTubeManually" class="text-xs bg-white/10 px-2 py-1 rounded hover:bg-white/20">
                        <i :class="isPlaying ? 'ph-bold ph-pause' : 'ph-bold ph-play'"></i> {{ isPlaying ? 'Pause' : 'Play' }}
                    </button>
                    <button @click="toggleYouTubeMute" class="text-xs bg-white/10 px-2 py-1 rounded hover:bg-white/20">
                        <i :class="youtubeMuted ? 'ph-bold ph-speaker-slash' : 'ph-bold ph-speaker-high'"></i>
                    </button>
                </div>
            </div>
        </div>
        <button @click="stopYouTubeVideo" class="text-red-400 hover:text-red-300">
            <i class="ph-bold ph-x text-xl"></i>
        </button>
    </div>

    <div class="aspect-video rounded-xl overflow-hidden bg-black relative">
        <div id="youtube-player" class="w-full h-full"></div>
    </div>

    <div class="mt-4 flex items-center gap-4">
        <div class="flex-1 flex items-center gap-2">
            <i class="ph-bold ph-speaker-high text-gray-400"></i>
            <input type="range" v-model="youtubeVolume" @input="setYouTubeVolume" min="0" max="100" class="w-full h-1 bg-gray-600 rounded-lg appearance-none cursor-pointer">
        </div>
        <select v-model="youtubeSpeed" @change="setYouTubeSpeed" class="bg-white/10 text-xs rounded px-2 py-1 border-none outline-none">
            <option value="0.5">0.5x</option>
            <option value="1" selected>1.0x</option>
            <option value="1.5">1.5x</option>
        </select>
    </div>
</div>
      </div>
      <p class="text-xs opacity-70 mt-2">üéµ Focus music playing from YouTube</p>
     </div><button @click="showMusicModal = false" class="w-full btn-secondary px-6 py-3 rounded-xl font-semibold text-white"> Close </button>
    </div>
   </div><div v-if="showAdminPanel" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop overflow-y-auto" @click="showAdminPanel = false">
    <div class="glass-strong rounded-3xl p-8 max-w-6xl w-full my-8 animate-slideUp max-h-[90vh] overflow-y-auto" @click.stop>
     <div class="flex items-center justify-between mb-8">
      <div>
       <h3 class="text-3xl font-bold flex items-center gap-3"><i class="ph-bold ph-shield-star text-yellow-400"></i> Admin Dashboard</h3>
       <p class="text-sm opacity-60 mt-1">Manage users, blogs, and songs</p>
      </div>
      <div class="flex items-center gap-3">
       <button @click="refreshAdminData" class="btn-secondary px-4 py-2 rounded-xl font-medium flex items-center gap-2" :disabled="adminLoading">
        <i v-if="!adminLoading" class="ph-bold ph-arrow-clockwise text-lg"></i>
        <i v-else class="ph-bold ph-circle-notch text-lg animate-spin"></i>
        <span v-if="!adminLoading">Refresh</span>
        <span v-else>Refreshing...</span>
       </button>
       <button @click="showAdminPanel = false" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20"><i class="ph-bold ph-x text-xl"></i></button>
      </div>
     </div>

    <div class="grid grid-cols-2 md:grid-cols-5 gap-4 mb-8">
     <div class="glass p-4 rounded-xl text-center">
      <i class="ph-bold ph-users text-3xl text-purple-400 mb-2"></i>
      <div class="text-2xl font-bold">{{ adminStats.totalUsers }}</div>
      <div class="text-xs opacity-60">Total Users</div>
     </div>
     <div class="glass p-4 rounded-xl text-center">
      <i class="ph-bold ph-article text-3xl text-blue-400 mb-2"></i>
      <div class="text-2xl font-bold">{{ adminStats.totalBlogs }}</div>
      <div class="text-xs opacity-60">Blog Posts</div>
     </div>
     <div class="glass p-4 rounded-xl text-center">
      <i class="ph-bold ph-music-notes text-3xl text-green-400 mb-2"></i>
      <div class="text-2xl font-bold">{{ adminStats.totalSongs }}</div>
      <div class="text-xs opacity-60">Songs</div>
     </div>
     <div class="glass p-4 rounded-xl text-center">
      <i class="ph-bold ph-clock text-3xl text-orange-400 mb-2"></i>
      <div class="text-2xl font-bold">{{ adminStats.totalSessions }}</div>
      <div class="text-xs opacity-60">Sessions</div>
     </div>
     <div class="glass p-4 rounded-xl text-center">
      <i class="ph-bold ph-gauge text-3xl text-pink-400 mb-2"></i>
        <div class="text-2xl font-bold">{{ adminStats.totalMinutes }}</div>
      <div class="text-xs opacity-60">Total Minutes</div>
     </div>
    </div>

    <div class="glass rounded-2xl p-4 mb-6 h-64">
     <div class="flex items-center justify-between mb-3">
      <h4 class="text-lg font-semibold">All Users Study Time</h4>
      <span class="text-xs opacity-60">Minutes by user</span>
     </div>
     <canvas ref="adminSessionsChart" class="w-full h-full"></canvas>
    </div>

     <div class="flex gap-2 mb-6 overflow-x-auto pb-2">
      <button @click="adminActiveTab = 'users'" :class="adminActiveTab === 'users' ? 'bg-purple-600 text-white' : 'btn-secondary'" class="px-6 py-2 rounded-xl font-medium whitespace-nowrap">
       <i class="ph-bold ph-users"></i> Users
      </button>
      <button @click="adminActiveTab = 'blogs'" :class="adminActiveTab === 'blogs' ? 'bg-purple-600 text-white' : 'btn-secondary'" class="px-6 py-2 rounded-xl font-medium whitespace-nowrap">
       <i class="ph-bold ph-article"></i> Blogs
      </button>
      <button @click="adminActiveTab = 'songs'" :class="adminActiveTab === 'songs' ? 'bg-purple-600 text-white' : 'btn-secondary'" class="px-6 py-2 rounded-xl font-medium whitespace-nowrap">
       <i class="ph-bold ph-music-notes"></i> Songs
      </button>
     </div>

     <div v-if="adminActiveTab === 'users'" class="animate-fadeIn">
      <h4 class="text-xl font-bold mb-4 text-neon">User Management</h4>
      <div class="glass rounded-xl p-6 max-h-96 overflow-y-auto custom-scrollbar">
       <div v-if="allUsers.length === 0" class="text-center py-8 opacity-70">
        <i class="ph-bold ph-users text-5xl mb-3"></i>
        <p>No users found</p>
       </div>
       <div v-else class="space-y-3">
        <div v-for="user in allUsers" :key="user._id" class="glass-strong p-4 rounded-xl flex items-center justify-between">
         <div class="flex items-center gap-3">
          <div class="w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-lg font-bold">
           {{ user.username.charAt(0).toUpperCase() }}
          </div>
          <div>
           <div class="font-semibold">{{ user.firstName }} {{ user.lastName }}</div>
           <div class="text-sm opacity-70">@{{ user.username }} ‚Ä¢ {{ user.email }}</div>
           <div class="text-xs opacity-50">{{ user.role === 'admin' ? 'üëë Admin' : 'üë§ User' }}</div>
          </div>
         </div>
         <div v-if="user.role !== 'admin'" class="flex gap-2">
            <button @click="adminChangePassword(user._id)" class="text-yellow-400 hover:text-yellow-300 p-2 rounded-lg hover:bg-yellow-500/10" title="Change Password">
             <i class="ph-bold ph-key text-xl"></i>
            </button>
            <button @click="deleteUser(user._id)" class="text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-red-500/10" title="Delete User">
             <i class="ph-bold ph-trash text-xl"></i>
            </button>
         </div>
        </div>
       </div>
      </div>
     </div>

     <div v-if="adminActiveTab === 'blogs'" class="animate-fadeIn">
      <h4 class="text-xl font-bold mb-4">Blog Management</h4>
      
      <div class="glass rounded-xl p-6 mb-6">
       <h5 class="font-semibold mb-4">Create New Blog</h5>
       <div class="space-y-3">
        <input v-model="newBlog.title" type="text" placeholder="Blog Title" class="w-full px-4 py-3 rounded-xl glass-strong">
        <select v-model="newBlog.category" class="w-full px-4 py-3 rounded-xl glass-strong">
            <option value="Study Related">Study Related</option>
            <option value="Motivational">Motivational</option>
            <option value="Others">Others</option>
        </select>
        <textarea v-model="newBlog.content" placeholder="Blog Content" rows="4" class="w-full px-4 py-3 rounded-xl glass-strong resize-none"></textarea>
        <input v-model="newBlog.image" type="url" placeholder="Image URL (optional)" class="w-full px-4 py-3 rounded-xl glass-strong">
        <button @click="createBlog" class="btn-primary px-6 py-3 rounded-xl font-semibold w-full">
         <i class="ph-bold ph-plus"></i> Create Blog
        </button>
       </div>
      </div>

      <div class="glass rounded-xl p-6 max-h-96 overflow-y-auto">
       <div v-if="adminBlogs.length === 0" class="text-center py-8 opacity-70">
        <i class="ph-bold ph-article text-5xl mb-3"></i>
        <p>No blogs yet</p>
       </div>
       <div v-else class="space-y-3">
        <div v-for="blog in adminBlogs" :key="blog._id" class="glass-strong p-4 rounded-xl">
         <div class="flex items-start justify-between gap-3">
          <div class="flex-1">
           <h5 class="font-bold mb-1">{{ blog.title }}</h5>
           <p class="text-sm opacity-70 line-clamp-2">{{ blog.content }}</p>
           <div class="text-xs opacity-50 mt-2">{{ formatDate(blog.createdAt) }}</div>
          </div>
          <button @click="deleteBlog(blog._id)" class="text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-red-500/10">
           <i class="ph-bold ph-trash text-xl"></i>
          </button>
         </div>
        </div>
       </div>
      </div>
     </div>

     <div v-if="adminActiveTab === 'songs'" class="animate-fadeIn">
      <h4 class="text-xl font-bold mb-4">Music Management</h4>
      
      <div class="glass rounded-xl p-6 mb-6">
       <h5 class="font-semibold mb-4">Add New Song</h5>
       <div class="space-y-3">
        <input v-model="newSong.title" type="text" placeholder="Song Title" class="w-full px-4 py-3 rounded-xl glass-strong">
        <input v-model="newSong.url" type="url" placeholder="Song URL" class="w-full px-4 py-3 rounded-xl glass-strong">
        <select v-model="newSong.category" class="w-full px-4 py-3 rounded-xl glass-strong">
         <option value="focus">Focus</option>
         <option value="ambient">Ambient</option>
         <option value="classical">Classical</option>
         <option value="lofi">Lo-Fi</option>
        </select>
        <button @click="createSong" class="btn-primary px-6 py-3 rounded-xl font-semibold w-full">
         <i class="ph-bold ph-plus"></i> Add Song
        </button>
       </div>
      </div>

      <div class="glass rounded-xl p-6 max-h-96 overflow-y-auto">
       <div v-if="adminSongs.length === 0" class="text-center py-8 opacity-70">
        <i class="ph-bold ph-music-notes text-5xl mb-3"></i>
        <p>No songs yet</p>
       </div>
       <div v-else class="space-y-3">
        <div v-for="song in adminSongs" :key="song._id" class="glass-strong p-4 rounded-xl flex items-center justify-between">
         <div class="flex items-center gap-3">
          <i class="ph-bold ph-music-note text-2xl text-green-400"></i>
          <div>
           <div class="font-semibold">{{ song.title }}</div>
           <div class="text-xs opacity-70">{{ song.category }}</div>
          </div>
         </div>
         <button @click="deleteSong(song._id)" class="text-red-400 hover:text-red-300 p-2 rounded-lg hover:bg-red-500/10">
          <i class="ph-bold ph-trash text-xl"></i>
         </button>
        </div>
       </div>
      </div>
     </div>

    </div>
   </div><div v-if="!showLoader && !isAuthenticated" class="min-h-screen flex items-center justify-center p-4">
    <div class="glass rounded-3xl p-8 w-full max-w-md animate-fadeIn">
     <div class="text-center mb-8"><i class="ph-bold ph-brain text-6xl text-purple-400 mb-4"></i>
      <h2 class="text-3xl font-bold gradient-text mb-2">StudyFlow</h2>
      <p class="opacity-70">Focus. Learn. Achieve.</p>
     </div><div v-if="authMode === 'login'">
      <h3 class="text-2xl font-semibold mb-6">Welcome Back</h3>
      <form @submit.prevent="handleLogin">
       <div class="mb-4"><label class="block text-sm font-medium mb-2">Username</label> <input v-model="loginForm.username" type="text" required class="w-full px-4 py-3 rounded-xl glass-strong" placeholder="Enter your username">
       </div>
       <div class="mb-6"><label class="block text-sm font-medium mb-2">Password</label>
        <div class="relative"><input v-model="loginForm.password" :type="showPassword ? 'text' : 'password'" required class="w-full px-4 py-3 rounded-xl glass-strong pr-12" placeholder="Enter your password"> <button type="button" @click="showPassword = !showPassword" class="absolute right-3 top-1/2 transform -translate-y-1/2 hover:text-purple-400"> <i :class="showPassword ? 'ph-bold ph-eye-slash' : 'ph-bold ph-eye'" class="text-xl"></i> </button>
        </div>
       </div><button type="submit" class="w-full py-3 rounded-xl btn-primary text-white font-semibold" :disabled="isLoading"> <span v-if="!isLoading">Sign In</span>
        <div v-else class="flex items-center justify-center gap-2">
         <div class="loading-spinner"></div><span>Signing in...</span>
        </div></button>
      </form>
      <div class="text-center mt-4"><button @click="authMode = 'forgot'" class="text-sm text-purple-400 hover:text-purple-300"> Forgot Password? </button>
      </div>
      <p class="text-center mt-4 opacity-70">Don't have an account? <button @click="authMode = 'register'" class="text-purple-400 hover:text-purple-300 font-semibold"> Sign Up </button></p>
     </div><div v-if="authMode === 'forgot'">
      <h3 class="text-2xl font-semibold mb-6">Reset Password</h3>
      <form @submit.prevent="handleForgotPassword">
       <div class="mb-4"><label class="block text-sm font-medium mb-2">Username</label> <input v-model="forgotForm.username" type="text" required class="w-full px-4 py-3 rounded-xl glass-strong" placeholder="Enter your username">
       </div>
       <div class="mb-4"><label class="block text-sm font-medium mb-2">Email</label> <input v-model="forgotForm.email" type="email" required class="w-full px-4 py-3 rounded-xl glass-strong" placeholder="Enter your registered email">
       </div>
       <div class="mb-6"><label class="block text-sm font-medium mb-2">New Password</label>
        <div class="relative"><input v-model="forgotForm.newPassword" :type="showPassword ? 'text' : 'password'" required class="w-full px-4 py-3 rounded-xl glass-strong pr-12" placeholder="Create a new password" @input="checkForgotPasswordStrength"> <button type="button" @click="showPassword = !showPassword" class="absolute right-3 top-1/2 transform -translate-y-1/2 hover:text-purple-400"> <i :class="showPassword ? 'ph-bold ph-eye-slash' : 'ph-bold ph-eye'" class="text-xl"></i> </button>
        </div>
        <div v-if="forgotForm.newPassword" class="mt-2">
         <div class="flex items-center gap-2 mb-1">
          <div class="flex-1 h-2 bg-gray-700 rounded-full overflow-hidden">
           <div class="h-full transition-all duration-300" :class="forgotPasswordStrengthColor" :style="{ width: forgotPasswordStrengthWidth }"></div>
          </div><span class="text-xs font-medium" :class="forgotPasswordStrengthTextColor"> {{ forgotPasswordStrengthText }} </span>
         </div>
        </div>
       </div><button type="submit" class="w-full py-3 rounded-xl btn-primary text-white font-semibold"> Reset Password </button>
      </form>
      <p class="text-center mt-6 opacity-70">Remember your password? <button @click="authMode = 'login'" class="text-purple-400 hover:text-purple-300 font-semibold"> Sign In </button></p>
     </div><div v-if="authMode === 'register'">
      <h3 class="text-2xl font-semibold mb-6">Create Account</h3>
      <form @submit.prevent="handleRegister">
       <div class="grid grid-cols-2 gap-4 mb-4">
        <div><label class="block text-sm font-medium mb-2">First Name</label> <input v-model="registerForm.firstName" type="text" required class="w-full px-4 py-3 rounded-xl glass-strong" placeholder="First name">
        </div>
        <div><label class="block text-sm font-medium mb-2">Last Name</label> <input v-model="registerForm.lastName" type="text" required class="w-full px-4 py-3 rounded-xl glass-strong" placeholder="Last name">
        </div>
       </div>
       <div class="mb-4"><label class="block text-sm font-medium mb-2">Email</label> <input v-model="registerForm.email" type="email" required class="w-full px-4 py-3 rounded-xl glass-strong" placeholder="your.email@example.com">
       </div>
       <div class="mb-4"><label class="block text-sm font-medium mb-2">Username</label> <input v-model="registerForm.username" type="text" required class="w-full px-4 py-3 rounded-xl glass-strong" placeholder="Choose a username">
       </div>
       <div class="mb-6"><label class="block text-sm font-medium mb-2">Password</label>
        <div class="relative"><input v-model="registerForm.password" :type="showPassword ? 'text' : 'password'" required class="w-full px-4 py-3 rounded-xl glass-strong pr-12" placeholder="Create a password" @input="checkPasswordStrength"> <button type="button" @click="showPassword = !showPassword" class="absolute right-3 top-1/2 transform -translate-y-1/2 hover:text-purple-400"> <i :class="showPassword ? 'ph-bold ph-eye-slash' : 'ph-bold ph-eye'" class="text-xl"></i> </button>
        </div>
        <div v-if="registerForm.password" class="mt-2">
         <div class="flex items-center gap-2 mb-1">
          <div class="flex-1 h-2 bg-gray-700 rounded-full overflow-hidden">
           <div class="h-full transition-all duration-300" :class="passwordStrengthColor" :style="{ width: passwordStrengthWidth }"></div>
          </div><span class="text-xs font-medium" :class="passwordStrengthTextColor"> {{ passwordStrengthText }} </span>
         </div>
        </div>
       </div><button type="submit" class="w-full py-3 rounded-xl btn-primary text-white font-semibold" :disabled="isLoading"> <span v-if="!isLoading">Create Account</span>
        <div v-else class="flex items-center justify-center gap-2">
         <div class="loading-spinner"></div><span>Creating account...</span>
        </div></button>
      </form>
      <p class="text-center mt-6 opacity-70">Already have an account? <button @click="authMode = 'login'" class="text-purple-400 hover:text-purple-300 font-semibold"> Sign In </button></p>
     </div>
    </div>
   </div><button v-if="!showLoader && isAuthenticated && showScrollTop" @click="scrollToTop" class="scroll-to-top" :class="{ 'visible': showScrollTop }" aria-label="Scroll to top"> <i class="ph-bold ph-arrow-up text-2xl text-white"></i> </button> <div v-if="!showLoader && isAuthenticated" class="min-h-screen flex"><aside class="hidden lg:flex flex-col w-64 glass-strong border-r border-gray-700 p-6">
      <div class="mb-8"><button @click="reloadApp" class="flex items-center gap-3 mb-2 hover:opacity-80 transition-opacity"> <i class="ph-bold ph-brain text-3xl text-purple-400"></i> <h1 class="text-2xl font-bold gradient-text">StudyFlow</h1></button>
       <p class="text-sm opacity-70">Hello, {{ userFullName }}!</p>
       <div class="flex items-center gap-2 mt-2">
        <div :class="isOnline ? 'bg-green-500' : 'bg-red-500'" class="w-2 h-2 rounded-full animate-pulse"></div>
        <span class="text-xs opacity-60">{{ isOnline ? 'Online' : 'Offline' }}</span>
       </div>
      </div>
      <nav class="flex-1 space-y-2"><button @click="currentView = 'home'" :class="currentView === 'home' ? 'bg-purple-600 text-white' : 'hover:bg-white/10'" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium"> <i class="ph-bold ph-house text-xl"></i> Home </button> <button @click="currentView = 'timer'" :class="currentView === 'timer' ? 'bg-purple-600 text-white' : 'hover:bg-white/10'" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium"> <i class="ph-bold ph-timer text-xl"></i> Focus Timer </button> <button @click="currentView = 'tasks'" :class="currentView === 'tasks' ? 'bg-purple-600 text-white' : 'hover:bg-white/10'" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium"> <i class="ph-bold ph-check-square text-xl"></i> Daily Tasks </button>
      <button @click="currentView = 'goals'" :class="currentView === 'goals' ? 'bg-purple-600 text-white' : 'hover:bg-white/10'" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium"> <i class="ph-bold ph-target text-xl"></i> Goals </button>
      <button @click="currentView = 'analytics'" :class="currentView === 'analytics' ? 'bg-purple-600' : 'hover:bg-white/10'" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium relative overflow-hidden group">
         <span class="absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:animate-[shimmer_1s_infinite]"></span>
         <i class="ph-bold ph-chart-bar text-xl"></i> Analytics 
      </button>
      <button @click="currentView = 'blog'" :class="currentView === 'blog' ? 'bg-purple-600' : 'hover:bg-white/10'" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium relative overflow-hidden group">
         <span class="absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:animate-[shimmer_1s_infinite]"></span>
         <i class="ph-bold ph-article text-xl"></i> Blog 
      </button>
       <div class="pt-4 border-t border-gray-700"><button @click="showThemeModal = true" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium hover:bg-white/10"> <i class="ph-bold ph-palette text-xl"></i> Themes </button> <button @click="showNotificationSettings = true" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium hover:bg-white/10"> <i class="ph-bold ph-bell text-xl"></i> Notifications </button> <button @click="showAdvancedTimer = true" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium hover:bg-white/10"> <i class="ph-bold ph-timer text-xl"></i> Timer Settings </button> <button @click="showMusicModal = true" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium hover:bg-white/10"> <i class="ph-bold ph-music-notes text-xl"></i> Music <span v-if="isPlaying" class="ml-auto"> <i class="ph-fill ph-speaker-high text-green-400 animate-pulse"></i> </span> </button> <button @click="showDataModal = true" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium hover:bg-white/10"> <i class="ph-bold ph-database text-xl"></i> Data Management </button> <button v-if="isAdmin" @click="openAdminPanel" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium hover:bg-white/10 text-yellow-400"> <i class="ph-bold ph-shield-star text-xl"></i> Admin Panel </button> <button @click="handleLogout" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium text-red-400 hover:bg-red-500/10 transition-all"> <i class="ph-bold ph-sign-out text-xl"></i> Logout </button>
       </div>
      </nav>
     </aside><main class="flex-1 flex flex-col"><header class="lg:hidden glass-strong border-b border-gray-700 p-4 flex items-center justify-between"><button @click="mobileMenuOpen = !mobileMenuOpen" class="text-2xl text-purple-400"> <i :class="mobileMenuOpen ? 'ph-bold ph-x' : 'ph-bold ph-list'" class="text-3xl"></i> </button> <button @click="reloadApp" class="text-xl font-bold gradient-text hover:opacity-80 transition-opacity"> StudyFlow </button>
       <div class="flex items-center gap-2">
        <div :class="isOnline ? 'bg-green-500' : 'bg-red-500'" class="w-2 h-2 rounded-full animate-pulse"></div>
        <span class="text-xs opacity-60 lg:hidden">{{ isOnline ? 'Online' : 'Offline' }}</span>
       </div>
      </header><div v-if="mobileMenuOpen" class="fixed inset-0 z-50 lg:hidden glass-strong backdrop-blur-xl p-4 animate-slideIn flex flex-col overflow-y-auto">
       <div class="flex justify-end mb-4">
        <button @click="mobileMenuOpen = false" class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20">
         <i class="ph-bold ph-x text-xl"></i>
        </button>
       </div>
       <nav class="space-y-2 flex-1"><button @click="currentView = 'home'; mobileMenuOpen = false" :class="currentView === 'home' ? 'bg-purple-600 text-white' : ''" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium"> <i class="ph-bold ph-house text-xl"></i> Home </button> <button @click="currentView = 'timer'; mobileMenuOpen = false" :class="currentView === 'timer' ? 'bg-purple-600 text-white' : ''" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium"> <i class="ph-bold ph-timer text-xl"></i> Focus Timer </button> <button @click="currentView = 'tasks'; mobileMenuOpen = false" :class="currentView === 'tasks' ? 'bg-purple-600 text-white' : ''" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium"> <i class="ph-bold ph-check-square text-xl"></i> Daily Tasks </button>
        <button @click="currentView = 'goals'; mobileMenuOpen = false" :class="currentView === 'goals' ? 'bg-purple-600 text-white' : ''" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium"> <i class="ph-bold ph-target text-xl"></i> Goals </button> 
        <button @click="currentView = 'analytics'; mobileMenuOpen = false" :class="currentView === 'analytics' ? 'bg-purple-600 text-white' : ''" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium"> <i class="ph-bold ph-chart-bar text-xl"></i> Analytics </button>
        <button @click="currentView = 'blog'; mobileMenuOpen = false" :class="currentView === 'blog' ? 'bg-purple-600 text-white' : ''" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium"> <i class="ph-bold ph-article text-xl"></i> Blog </button>
        <div class="pt-4 mt-2 border-t border-gray-700 space-y-2"><button @click="showThemeModal = true; mobileMenuOpen = false" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium hover:bg-white/5"> <i class="ph-bold ph-palette text-xl"></i> Themes </button> <button @click="showNotificationSettings = true; mobileMenuOpen = false" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium hover:bg-white/5"> <i class="ph-bold ph-bell text-xl"></i> Notifications </button> <button @click="showAdvancedTimer = true; mobileMenuOpen = false" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium hover:bg-white/5"> <i class="ph-bold ph-timer text-xl"></i> Timer Settings </button> <button @click="showMusicModal = true; mobileMenuOpen = false" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium hover:bg-white/5"> <i class="ph-bold ph-music-notes text-xl"></i> Music <span v-if="isPlaying" class="ml-auto"> <i class="ph-fill ph-speaker-high text-green-400 animate-pulse"></i> </span> </button>
        <button @click="showDataModal = true; mobileMenuOpen = false" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium hover:bg-white/5"> <i class="ph-bold ph-database text-xl"></i> Data Management </button>
        <button v-if="isAdmin" @click="openAdminPanel(); mobileMenuOpen = false" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium text-yellow-400 hover:bg-white/5"> <i class="ph-bold ph-shield-star text-xl"></i> Admin Panel </button>
        </div><button @click="handleLogout" class="w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium text-red-400 hover:bg-red-500/10 mt-4"> <i class="ph-bold ph-sign-out text-xl"></i> Logout </button>
       </nav>
      </div><div class="flex-1 overflow-y-auto overflow-x-hidden p-4 lg:p-8"><div v-if="currentView === 'home'" class="max-w-6xl mx-auto animate-fadeIn"><div class="text-center mb-12">
         <div class="mb-6"><i class="ph-bold ph-brain text-7xl text-purple-400 animate-pulse"></i>
         </div>
         <h1 class="text-5xl md:text-6xl font-bold gradient-text mb-4">Welcome to StudyFlow</h1>
         <p class="text-xl md:text-2xl opacity-80 mb-8">Your Ultimate Focus &amp; Productivity Companion</p>
         <div class="flex flex-wrap justify-center gap-4"><button @click="currentView = 'timer'" class="btn-primary px-8 py-4 rounded-xl font-semibold text-lg flex items-center gap-2"> <i class="ph-bold ph-play text-xl"></i> Start Focusing </button> <button @click="currentView = 'analytics'" class="btn-secondary px-8 py-4 rounded-xl font-semibold text-lg flex items-center gap-2"> <i class="ph-bold ph-chart-bar text-xl"></i> View Stats </button>
         </div>
        </div><div class="mb-12">
         <h2 class="text-3xl font-bold mb-8 text-center">Powerful Features</h2>
         <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"><div class="glass rounded-2xl p-6 card-hover">
           <div class="w-14 h-14 rounded-xl bg-purple-600/20 flex items-center justify-center mb-4"><i class="ph-bold ph-timer text-3xl text-purple-400"></i>
           </div>
           <h3 class="text-xl font-bold mb-2">Pomodoro Timer</h3>
           <p class="opacity-70">Stay focused with customizable work sessions and breaks. Choose from preset durations or create your own custom timers.</p>
          </div><div class="glass rounded-2xl p-6 card-hover">
           <div class="w-14 h-14 rounded-xl bg-green-600/20 flex items-center justify-center mb-4"><i class="ph-bold ph-check-square text-3xl text-green-400"></i>
           </div>
           <h3 class="text-xl font-bold mb-2">Task Management</h3>
           <p class="opacity-70">Organize your daily tasks efficiently. Track completion and stay on top of your to-do list with ease.</p>
          </div><div class="glass rounded-2xl p-6 card-hover">
           <div class="w-14 h-14 rounded-xl bg-blue-600/20 flex items-center justify-center mb-4"><i class="ph-bold ph-chart-bar text-3xl text-blue-400"></i>
           </div>
           <h3 class="text-xl font-bold mb-2">Study Analytics</h3>
           <p class="opacity-70">Track your progress with detailed statistics. See how much time you've spent on each subject and monitor your productivity.</p>
          </div><div class="glass rounded-2xl p-6 card-hover">
           <div class="w-14 h-14 rounded-xl bg-pink-600/20 flex items-center justify-center mb-4"><i class="ph-bold ph-palette text-3xl text-pink-400"></i>
           </div>
           <h3 class="text-xl font-bold mb-2">Beautiful Themes</h3>
           <p class="opacity-70">Personalize your experience with 10 stunning themes. From dark mode to vibrant gradients, find your perfect aesthetic.</p>
          </div><div class="glass rounded-2xl p-6 card-hover">
           <div class="w-14 h-14 rounded-xl bg-yellow-600/20 flex items-center justify-center mb-4"><i class="ph-bold ph-music-notes text-3xl text-yellow-400"></i>
           </div>
           <h3 class="text-xl font-bold mb-2">Focus Music</h3>
           <p class="opacity-70">Create custom playlists to enhance your concentration. Add your favorite study music and control playback seamlessly.</p>
          </div><div class="glass rounded-2xl p-6 card-hover">
           <div class="w-14 h-14 rounded-xl bg-red-600/20 flex items-center justify-center mb-4"><i class="ph-bold ph-bell text-3xl text-red-400"></i>
           </div>
           <h3 class="text-xl font-bold mb-2">Smart Alarms</h3>
           <p class="opacity-70">Choose from multiple alarm sounds and enable 50-second warnings. Never miss the end of your focus session.</p>
          </div>
         </div>
        </div><div class="mb-12">
         <h2 class="text-3xl font-bold mb-8 text-center">How It Works</h2>
         <div class="grid md:grid-cols-3 gap-6">
          <div class="text-center">
           <div class="w-20 h-20 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-3xl font-bold mx-auto mb-4">
            1
           </div>
           <h3 class="text-xl font-bold mb-2">Set Your Goal</h3>
           <p class="opacity-70">Choose a subject and task you want to focus on. Select your preferred timer duration.</p>
          </div>
          <div class="text-center">
           <div class="w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center text-3xl font-bold mx-auto mb-4">
            2
           </div>
           <h3 class="text-xl font-bold mb-2">Stay Focused</h3>
           <p class="opacity-70">Work without distractions during your focus session. The timer keeps you on track.</p>
          </div>
          <div class="text-center">
           <div class="w-20 h-20 rounded-full bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center text-3xl font-bold mx-auto mb-4">
            3
           </div>
           <h3 class="text-xl font-bold mb-2">Track Progress</h3>
           <p class="opacity-70">Review your analytics and celebrate your achievements. Watch your productivity grow!</p>
          </div>
         </div>
        </div><div v-if="totalSessions > 0" class="mb-12">
         <h2 class="text-3xl font-bold mb-8 text-center">Your Progress Today</h2>
         <div class="grid md:grid-cols-4 gap-6">
          <div class="glass rounded-2xl p-6 text-center card-hover"><i class="ph-bold ph-clock text-5xl text-purple-400 mb-3"></i>
           <div class="text-4xl font-bold mb-2">
            {{ totalFocusTime }}
           </div>
           <div class="opacity-70">
            Minutes Focused
           </div>
          </div>
          <div class="glass rounded-2xl p-6 text-center card-hover"><i class="ph-bold ph-fire text-5xl text-orange-400 mb-3"></i>
           <div class="text-4xl font-bold mb-2">
            {{ totalSessions }}
           </div>
           <div class="opacity-70">
            Sessions Completed
           </div>
          </div>
          <div class="glass rounded-2xl p-6 text-center card-hover"><i class="ph-bold ph-check-circle text-5xl text-green-400 mb-3"></i>
           <div class="text-4xl font-bold mb-2">
            {{ completedTasksCount }}
           </div>
           <div class="opacity-70">
            Tasks Completed
           </div>
          </div>
          <div class="glass rounded-2xl p-6 text-center card-hover"><i class="ph-bold ph-book text-5xl text-blue-400 mb-3"></i>
           <div class="text-4xl font-bold mb-2">
            {{ subjects.length }}
           </div>
           <div class="opacity-70">
            Subjects Added
           </div>
          </div>
         </div>
        </div><div class="glass rounded-3xl p-8 md:p-12 text-center">
         <h2 class="text-3xl md:text-4xl font-bold mb-4">Ready to Boost Your Productivity?</h2>
         <p class="text-lg opacity-80 mb-8">Join thousands of students and professionals who trust StudyFlow for their focus needs.</p><button @click="currentView = 'timer'" class="btn-primary px-10 py-4 rounded-xl font-semibold text-lg flex items-center gap-2 mx-auto"> <i class="ph-bold ph-rocket-launch text-xl"></i> Get Started Now </button>
        </div>
       </div><div v-if="currentView === 'timer'" class="max-w-4xl mx-auto animate-fadeIn px-4 sm:px-0">
  <h2 class="text-2xl sm:text-3xl font-bold mb-6 text-center md:text-left">Focus Timer</h2>
  
  <div class="glass rounded-2xl p-4 sm:p-6 mb-6 text-center">
   <i class="ph-bold ph-quotes text-3xl text-purple-400 mb-3"></i>
   <p class="text-base sm:text-lg italic mb-2">"{{ currentQuote }}"</p>
   <button @click="changeQuote" class="text-sm text-purple-400 hover:text-purple-300 flex items-center gap-1 mx-auto"> <i class="ph-bold ph-arrow-clockwise"></i> New Quote </button>
  </div>

  <div class="glass rounded-2xl p-4 sm:p-6 mb-6">
   <div class="flex flex-wrap justify-center gap-2 sm:gap-3 mb-6">
    <button @click="setTimerMode('focus')" :class="timerMode === 'focus' ? 'bg-purple-600 text-white' : 'btn-secondary'" class="px-3 sm:px-4 py-2 text-xs sm:text-base rounded-xl font-medium flex-1 sm:flex-initial text-center whitespace-nowrap"> Focus </button> 
    <button @click="setTimerMode('shortBreak')" :class="timerMode === 'shortBreak' ? 'bg-green-600 text-white' : 'btn-secondary'" class="px-3 sm:px-4 py-2 text-xs sm:text-base rounded-xl font-medium flex-1 sm:flex-initial text-center whitespace-nowrap"> Short Break </button> 
    <button @click="setTimerMode('longBreak')" :class="timerMode === 'longBreak' ? 'bg-blue-600 text-white' : 'btn-secondary'" class="px-3 sm:px-4 py-2 text-xs sm:text-base rounded-xl font-medium flex-1 sm:flex-initial text-center whitespace-nowrap"> Long Break </button> 
    <button @click="setTimerMode('custom')" :class="timerMode === 'custom' ? 'bg-orange-600 text-white' : 'btn-secondary'" class="px-3 sm:px-4 py-2 text-xs sm:text-base rounded-xl font-medium flex-1 sm:flex-initial text-center whitespace-nowrap"> Custom </button>
   </div>

   <div v-if="timerMode === 'custom'" class="mb-6 glass-strong p-4 rounded-xl">
    <label class="block text-sm font-medium mb-2">Set Custom Duration (minutes)</label>
    <div class="flex gap-2 sm:gap-3">
     <input v-model.number="customMinutes" type="number" min="1" max="180" class="flex-1 px-4 py-3 rounded-xl glass w-full min-w-0" placeholder="Min"> 
     <button @click="applyCustomTime" class="btn-primary px-4 sm:px-6 py-3 rounded-xl font-semibold shrink-0"> Apply </button>
    </div>
   </div>

   <div class="flex justify-center mb-6 relative w-full h-[280px] sm:h-[320px]">
    <div class="relative w-full h-full max-w-[280px] sm:max-w-[320px]">
     <svg viewBox="0 0 280 280" class="w-full h-full transform -rotate-90">
      <circle cx="140" cy="140" r="120" stroke="rgba(255,255,255,0.1)" stroke-width="12" fill="none" /> 
      <circle cx="140" cy="140" r="120" :stroke="timerColor" stroke-width="12" fill="none" :stroke-dasharray="753.98" :stroke-dashoffset="timerProgress" class="progress-ring-circle" :class="{ 'pulse-warning': timeRemaining <= 60 && timerRunning }" />
     </svg>
     
     <div class="absolute inset-0 flex flex-col items-center justify-center pointer-events-none">
      <div class="text-4xl sm:text-5xl md:text-6xl font-bold">
       {{ formattedTime }}
      </div>
      <div class="text-xs sm:text-sm opacity-70 mt-2">
       {{ timerModeLabel }}
      </div>
     </div>
    </div>
   </div>

   <div class="flex flex-col sm:flex-row justify-center gap-3 sm:gap-4 mb-6">
    <button @click="toggleTimer" class="btn-primary px-6 sm:px-8 py-3 rounded-xl font-semibold flex items-center justify-center gap-2"> 
     <i :class="timerRunning ? 'ph-bold ph-pause' : 'ph-bold ph-play'" class="text-xl"></i> {{ timerRunning ? 'Pause' : 'Start' }} 
    </button> 
    <button @click="resetTimer" class="btn-secondary px-6 sm:px-8 py-3 rounded-xl font-semibold flex items-center justify-center gap-2"> 
     <i class="ph-bold ph-arrow-clockwise text-xl"></i> Reset 
    </button>
   </div>

   <div class="grid md:grid-cols-2 gap-4">
    <div>
     <label class="block text-sm font-medium mb-2">Subject</label> 
     <select v-model="currentSubject" class="w-full px-4 py-3 rounded-xl glass-strong max-w-full"> 
      <option value="">Select Subject</option> 
      <option v-for="subject in subjects" :key="subject._id || subject.id || subject" :value="subject.name || subject"> {{ subject.name || subject }} </option> 
     </select>
    </div>
    <div>
     <label class="block text-sm font-medium mb-2">Task (Optional)</label> 
     <input v-model="currentTask" type="text" class="w-full px-4 py-3 rounded-xl glass-strong max-w-full" placeholder="What are you working on?">
    </div>
   </div>
  </div>

  <div class="glass rounded-2xl p-6 mb-6">
   <h3 class="text-xl font-semibold mb-4 flex items-center gap-2"><i class="ph-bold ph-bell text-purple-400"></i> Alarm Settings</h3>
   <div class="space-y-4">
    <div>
     <label class="block text-sm font-medium mb-2">Alarm Sound</label> 
     <select v-model="alarmSound" @change="saveAlarmSettings" class="w-full px-4 py-3 rounded-xl glass-strong"> <option value="bell">üîî Bell</option> <option value="chime">üéµ Chime</option> <option value="beep">üì¢ Beep</option> <option value="ding">üîä Ding</option> <option value="gong">üé∫ Gong</option> </select>
    </div>
    <div class="flex items-center justify-between glass-strong p-4 rounded-xl">
     <div>
      <div class="font-medium">50-Second Warning</div>
      <div class="text-sm opacity-70">Play alarm before timer ends</div>
     </div>
     <button @click="toggleWarningAlarm" :class="warningAlarmEnabled ? 'bg-purple-600' : 'bg-gray-600'" class="relative w-14 h-8 rounded-full transition-colors flex-shrink-0">
      <div :class="warningAlarmEnabled ? 'translate-x-6' : 'translate-x-1'" class="absolute top-1 w-6 h-6 bg-white rounded-full transition-transform"></div>
     </button>
    </div>
    <button @click="testAlarm" class="w-full btn-secondary px-6 py-3 rounded-xl font-semibold flex items-center justify-center gap-2"> <i class="ph-bold ph-speaker-high text-xl"></i> Test Alarm Sound </button>
   </div>
  </div>

        <div class="glass rounded-2xl p-6 mb-6">
         <h3 class="text-xl font-semibold mb-4 flex items-center gap-2"><i class="ph-bold ph-book text-purple-400"></i> Manage Subjects</h3>
         <div class="flex gap-3 mb-6"><input v-model="newSubject" type="text" class="flex-1 px-4 py-3 rounded-xl glass-strong" placeholder="Add new subject (e.g., Mathematics, Physics, History)" @keyup.enter="addSubject"> <button @click="addSubject" class="btn-primary px-6 py-3 rounded-xl font-semibold flex items-center gap-2"> <i class="ph-bold ph-plus text-lg"></i> Add </button>
         </div>
         <div v-if="subjects.length === 0" class="text-center opacity-70 py-8">
          <i class="ph-bold ph-book-open text-5xl mb-3 text-purple-400"></i>
          <p>No subjects added yet</p>
          <p class="text-sm">Add subjects to organize your study sessions</p>
         </div>
         <div v-else class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
          <div v-for="(subject, index) in subjects" :key="subject._id || subject.id || subject" class="glass-strong p-4 rounded-xl hover:scale-105 transition-all duration-200 group" :class="getSubjectCardClass(index)">
           <div class="flex items-center justify-between mb-2">
            <div class="flex items-center gap-3">
             <div class="w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-lg" :class="getSubjectIconClass(index)">
              {{ (subject.name || subject).charAt(0).toUpperCase() }}
             </div>
             <div>
              <div class="font-semibold text-white">{{ subject.name || subject }}</div>
              <div class="text-xs opacity-70">{{ subjectStats[subject.name || subject] || 0 }} sessions</div>
             </div>
            </div>
            <button @click="deleteSubject(subject.name || subject)" class="opacity-0 group-hover:opacity-100 text-red-400 hover:text-red-300 transition-opacity p-1 rounded-lg hover:bg-red-500/20">
             <i class="ph-bold ph-trash text-lg"></i>
            </button>
           </div>
           <div class="flex items-center gap-2 text-xs opacity-70">
            <i class="ph-bold ph-calendar text-purple-400"></i>
            <span>Created {{ formatDate(subject.createdAt || Date.now()) }}</span>
           </div>
          </div>
         </div>
        </div><div class="glass rounded-2xl p-6">
         <h3 class="text-xl font-semibold mb-4">Today's Sessions</h3>
         <div v-if="todaySessions.length === 0" class="text-center opacity-70 py-8"><i class="ph-bold ph-clock-countdown text-5xl mb-3"></i>
          <p>No sessions completed yet today</p>
         </div>
         <div v-else class="space-y-3">
          <div v-for="(session, index) in todaySessions" :key="index" class="glass-strong p-4 rounded-xl flex items-center justify-between">
           <div>
            <div class="font-semibold">
             {{ session.subject || 'No Subject' }}
            </div>
            <div class="text-sm opacity-70">
             {{ session.task || 'No task specified' }}
            </div>
           </div>
           <div class="text-right">
            <div class="font-semibold text-purple-400">
             {{ session.duration }} min
            </div>
            <div class="text-xs opacity-70">
             {{ session.time }}
            </div>
           </div>
          </div>
         </div>
        </div>
       </div><div v-if="currentView === 'tasks'" class="max-w-4xl mx-auto animate-fadeIn">
        <h2 class="text-3xl font-bold mb-6">Daily Tasks</h2><div class="glass rounded-2xl p-6 mb-6">
         <div class="flex gap-3"><input v-model="newTask" type="text" class="flex-1 px-4 py-3 rounded-xl glass-strong" placeholder="Add a new task..." @keyup.enter="addTask"> <button @click="addTask" class="btn-primary px-6 py-3 rounded-xl font-semibold flex items-center gap-2"> <i class="ph-bold ph-plus text-xl"></i> Add </button>
         </div>
        </div><div class="glass rounded-2xl p-6">
         <div v-if="tasks.length === 0" class="text-center opacity-70 py-12"><i class="ph-bold ph-list-checks text-6xl mb-4"></i>
          <p class="text-lg">No tasks yet. Add your first task!</p>
         </div>
         <div v-else class="space-y-3">
          <div v-for="task in tasks" :key="task.id" class="glass-strong p-4 rounded-xl flex items-center gap-4 card-hover"><button @click="toggleTask(task.id)" class="flex-shrink-0"> <i :class="task.completed ? 'ph-fill ph-check-circle text-green-400' : 'ph-bold ph-circle'" class="text-2xl"></i> </button>
           <div class="flex-1" :class="{ 'task-complete': task.completed }">
            {{ task.text }}
           </div><button @click="deleteTask(task.id)" class="text-red-400 hover:text-red-300 flex-shrink-0"> <i class="ph-bold ph-trash text-xl"></i> </button>
          </div>
         </div>
         <div v-if="tasks.length > 0" class="mt-6 pt-6 border-t border-gray-700 flex justify-between items-center">
          <div class="text-sm opacity-70">
           {{ completedTasksCount }} of {{ tasks.length }} completed
          </div><button @click="clearCompletedTasks" class="text-sm text-purple-400 hover:text-purple-300"> Clear Completed </button>
         </div>
        </div>
       </div><div v-if="currentView === 'analytics'" class="max-w-6xl mx-auto animate-fadeIn px-4 sm:px-0">
        <h2 class="text-3xl font-bold mb-6">Analytics &amp; Profile</h2><div class="glass rounded-2xl p-4 sm:p-6 mb-6">
         <div class="flex flex-wrap gap-2 sm:gap-3"><button @click="analyticsView = 'daily'" :class="analyticsView === 'daily' ? 'bg-purple-600 text-white' : 'btn-secondary'" class="px-3 sm:px-6 py-2 rounded-xl font-medium text-sm sm:text-base flex-1 sm:flex-initial flex items-center justify-center gap-2"> <i class="ph-bold ph-calendar"></i> Daily </button> <button @click="analyticsView = 'weekly'" :class="analyticsView === 'weekly' ? 'bg-purple-600 text-white' : 'btn-secondary'" class="px-3 sm:px-6 py-2 rounded-xl font-medium text-sm sm:text-base flex-1 sm:flex-initial flex items-center justify-center gap-2"> <i class="ph-bold ph-calendar-blank"></i> Weekly </button> <button @click="analyticsView = 'monthly'" :class="analyticsView === 'monthly' ? 'bg-purple-600 text-white' : 'btn-secondary'" class="px-3 sm:px-6 py-2 rounded-xl font-medium text-sm sm:text-base flex-1 sm:flex-initial flex items-center justify-center gap-2"> <i class="ph-bold ph-calendar-dots"></i> Monthly </button>
         </div>
        </div><div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6 mb-6">
         <div class="glass rounded-2xl p-4 sm:p-6 card-hover">
          <div class="flex items-center gap-4">
           <div class="w-12 h-12 rounded-xl bg-purple-600/20 flex items-center justify-center"><i class="ph-bold ph-clock text-2xl text-purple-400"></i>
           </div>
           <div>
            <div class="text-2xl sm:text-3xl font-bold">
             {{ currentPeriodStats.totalMinutes }}
            </div>
            <div class="text-xs sm:text-sm opacity-70">
             Total Minutes
            </div>
           </div>
          </div>
         </div>
         <div class="glass rounded-2xl p-4 sm:p-6 card-hover">
          <div class="flex items-center gap-4">
           <div class="w-12 h-12 rounded-xl bg-green-600/20 flex items-center justify-center"><i class="ph-bold ph-fire text-2xl text-green-400"></i>
           </div>
           <div>
            <div class="text-2xl sm:text-3xl font-bold">
             {{ currentPeriodStats.totalSessions }}
            </div>
            <div class="text-xs sm:text-sm opacity-70">
             Sessions
            </div>
           </div>
          </div>
         </div>
         <div class="glass rounded-2xl p-4 sm:p-6 card-hover">
          <div class="flex items-center gap-4">
           <div class="w-12 h-12 rounded-xl bg-blue-600/20 flex items-center justify-center"><i class="ph-bold ph-chart-line text-2xl text-blue-400"></i>
           </div>
           <div>
            <div class="text-2xl sm:text-3xl font-bold">
             {{ currentPeriodStats.avgSessionLength }}
            </div>
            <div class="text-xs sm:text-sm opacity-70">
             Avg Session (min)
            </div>
           </div>
          </div>
         </div>
        </div><div class="grid md:grid-cols-2 gap-6 mb-6"><div class="glass rounded-2xl p-4 sm:p-6">
           <h3 class="text-xl font-semibold mb-4">Study Time Trend</h3>
           <div class="chart-container relative h-64 sm:h-80 w-full">
            <canvas ref="studyTimeChart"></canvas>
           </div>
          </div><div class="glass rounded-2xl p-4 sm:p-6">
           <h3 class="text-xl font-semibold mb-4">Subject Distribution</h3>
           <div class="chart-container relative h-64 sm:h-80 w-full">
            <canvas ref="subjectChart"></canvas>
           </div>
          </div>
         </div><div class="glass rounded-2xl p-6 mb-6">
          <h3 class="text-xl font-semibold mb-4">Subject Progress</h3>
          <div v-if="Object.keys(subjectStats).length === 0" class="text-center opacity-70 py-8"><i class="ph-bold ph-books text-5xl mb-3"></i>
           <p>No study data yet. Start a focus session!</p>
          </div>
          
          <div v-else class="space-y-3">
           <div v-for="(stats, subject) in subjectStats" :key="subject" class="glass-strong p-4 rounded-2xl border border-white/5 hover:bg-white/5 transition-all group">
            
            <div class="flex justify-between items-center mb-3">
             <div class="flex items-center gap-3">
              <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-gray-800 to-gray-900 flex items-center justify-center text-xl font-bold text-white shadow-lg border border-white/10" :class="getSubjectIconClass(subject.length)">
               {{ subject.charAt(0).toUpperCase() }}
              </div>
              <div>
               <h4 class="font-bold text-white text-base">{{ subject }}</h4>
               <div class="text-xs opacity-50">Active Subject</div>
              </div>
             </div>

             <div class="flex gap-2">
              <div class="flex flex-col items-center justify-center w-14 h-12 rounded-lg bg-purple-500/10 border border-purple-500/20">
               <i class="ph-bold ph-clock text-purple-400 text-xs mb-0.5"></i>
               <span class="text-xs font-bold text-white">{{ stats.time }}m</span>
              </div>
              <div class="flex flex-col items-center justify-center w-14 h-12 rounded-lg bg-blue-500/10 border border-blue-500/20">
               <i class="ph-bold ph-check-circle text-blue-400 text-xs mb-0.5"></i>
               <span class="text-xs font-bold text-white">{{ stats.sessions }}</span>
              </div>
             </div>
            </div>

            <div class="w-full bg-gray-700/30 h-1.5 rounded-full overflow-hidden">
             <div class="h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full transition-all duration-1000" :style="{ width: (totalFocusTime > 0 ? (stats.time / totalFocusTime * 100) : 0) + '%' }"></div>
            </div>
            
            <div class="text-right mt-1">
             <span class="text-[10px] opacity-40">{{ Math.round((stats.time / totalFocusTime) * 100) || 0 }}% completed</span>
            </div>

           </div>
          </div>

         </div>
         <div class="glass rounded-2xl p-6 mb-6">
          <h3 class="text-xl font-semibold mb-4 flex items-center gap-2"><i class="ph-bold ph-trophy text-yellow-400"></i> Achievements</h3>
          
          <div v-if="achievements.length === 0" class="text-center opacity-70 py-8">
           <i class="ph-bold ph-medal text-5xl mb-3 text-gray-500"></i>
           <p>No achievements data found.</p>
          </div>

          <div v-else class="grid grid-cols-1 sm:grid-cols-2 gap-4">
           <div v-for="achievement in achievements" :key="achievement._id" 
                class="glass-strong p-4 rounded-xl flex items-center gap-4 transition-all border"
                :class="achievement.unlocked ? 'border-yellow-500/30 bg-yellow-500/5' : 'border-white/5 opacity-60 grayscale hover:opacity-100 hover:grayscale-0'">
            
            <div class="w-14 h-14 rounded-full flex items-center justify-center text-2xl shadow-lg"
                 :class="achievement.unlocked ? 'bg-gradient-to-br from-yellow-400 to-orange-500 text-white shadow-orange-500/20' : 'bg-white/10 text-gray-400'">
             <i :class="'ph-bold ph-' + (achievement.icon || 'star')"></i>
            </div>
            
            <div class="flex-1">
             <div class="flex justify-between items-start">
               <h4 class="font-bold text-white" :class="{'text-yellow-100': achievement.unlocked}">{{ achievement.title }}</h4>
               <i v-if="achievement.unlocked" class="ph-fill ph-check-circle text-green-400 text-lg"></i>
               <i v-else class="ph-bold ph-lock text-gray-500 text-lg"></i>
             </div>
             
             <p class="text-xs opacity-70 mt-0.5">{{ achievement.description }}</p>
             
             <div class="mt-2">
               <span v-if="achievement.unlocked" class="text-[10px] bg-yellow-500/20 text-yellow-300 px-2 py-0.5 rounded border border-yellow-500/20 font-mono tracking-wide">
                UNLOCKED {{ formatDate(achievement.unlockedAt) }}
               </span>
               <span v-else class="text-[10px] bg-gray-700 text-gray-400 px-2 py-0.5 rounded font-mono tracking-wide">
                LOCKED
               </span>
             </div>
            </div>

           </div>
          </div>
         </div>
         <div class="glass rounded-2xl p-6 mb-6">
          <h3 class="text-xl font-semibold mb-4">Profile</h3>
          <div class="flex items-center gap-4 mb-6">
           <div class="relative">
            <div v-if="userProfileImage" class="w-20 h-20 rounded-full overflow-hidden"><img :src="userProfileImage" alt="Profile" class="w-full h-full object-cover" onerror="this.style.display='none'; this.alt='Image failed to load';">
            </div>
            <div v-else class="w-20 h-20 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-3xl font-bold">
             {{ userInitials }}
            </div><button @click="$refs.profileImageInput.click()" class="absolute -bottom-1 -right-1 w-8 h-8 bg-purple-600 rounded-full flex items-center justify-center hover:bg-purple-700"> <i class="ph-bold ph-camera text-sm"></i> </button> <input ref="profileImageInput" type="file" accept="image" class="hidden" @change="handleProfileImageUpload">
           </div>
           <div>
            <div class="text-2xl font-bold">
             {{ userFullName }}
            </div>
            <div class="opacity-70">
             {{ userEmail }}
            </div>
            <div class="text-sm text-purple-400">
             @{{ currentUser }}
            </div>
           </div>
          </div>
          <div class="grid grid-cols-2 gap-4 text-center mb-6">
           <div class="glass-strong p-4 rounded-xl">
            <div class="text-2xl font-bold text-purple-400">
             {{ subjects.length }}
            </div>
            <div class="text-sm opacity-70">
             Subjects
            </div>
           </div>
           <div class="glass-strong p-4 rounded-xl">
            <div class="text-2xl font-bold text-green-400">
             {{ Math.floor(totalFocusTime / 60) }}h
            </div>
            <div class="text-sm opacity-70">
             Study Hours
            </div>
           </div>
          </div><button @click="showChangeCredentials = true" class="w-full btn-primary px-6 py-3 rounded-xl font-semibold text-white flex items-center justify-center gap-2"> <i class="ph-bold ph-user-gear text-xl"></i> Change Username &amp; Password </button>
         </div><div class="glass rounded-2xl p-6">
          <h3 class="text-xl font-semibold mb-4 text-red-400">Danger Zone</h3>
          <p class="opacity-70 mb-4">Clear all your study data and start fresh.</p><button @click="clearAllData" class="bg-red-600 hover:bg-red-700 px-6 py-3 rounded-xl font-semibold text-white"> Clear All Data </button>
         </div>
        </div>
       </div>
       
       <div v-if="currentView === 'goals'" class="max-w-4xl mx-auto animate-fadeIn">
        <h2 class="text-3xl font-bold mb-6 flex items-center gap-2"><i class="ph-bold ph-target text-purple-400"></i> Goals</h2>
        
        <div class="glass rounded-2xl p-6 mb-6">
         <div class="grid md:grid-cols-2 gap-4 mb-4">
           <input v-model="newGoal.title" type="text" class="w-full px-4 py-3 rounded-xl glass-strong" placeholder="Goal title (e.g., Read 5 Books)">
           <select v-model="newGoal.type" class="w-full px-4 py-3 rounded-xl glass-strong">
               <option value="daily">Daily Goal</option>
               <option value="weekly">Weekly Goal</option>
               <option value="monthly">Monthly Goal</option>
               <option value="subject-specific">Subject Specific</option>
               <option value="total-hours">Total Hours</option>
           </select>
         </div>
         <div class="grid md:grid-cols-2 gap-4 mb-4">
           <div class="flex gap-2">
             <input v-model="newGoal.target" type="number" class="w-full px-4 py-3 rounded-xl glass-strong" placeholder="Target">
             <select v-model="newGoal.unit" class="px-4 py-3 rounded-xl glass-strong w-28">
               <option value="hours">Hours</option>
               <option value="sessions">Sessions</option>
               <option value="pages">Pages</option>
             </select>
           </div>
           <input v-model="newGoal.deadline" type="date" class="w-full px-4 py-3 rounded-xl glass-strong text-white">
         </div>
         <div class="mb-4">
            <select v-model="newGoal.priority" class="w-full px-4 py-3 rounded-xl glass-strong">
                <option value="low">Low Priority</option>
                <option value="medium">Medium Priority</option>
                <option value="high">High Priority</option>
            </select>
         </div>
         <button @click="createGoal" class="w-full btn-primary px-6 py-3 rounded-xl font-semibold flex items-center justify-center gap-2"> <i class="ph-bold ph-plus-circle text-xl"></i> Add Goal </button>
        </div>

        <div v-if="goals.length === 0" class="text-center opacity-70 py-12"><i class="ph-bold ph-trophy text-6xl mb-4"></i>
          <p class="text-lg">No goals set yet. Challenge yourself!</p>
        </div>
        
        <div v-else class="grid md:grid-cols-2 gap-4">
          <div v-for="goal in goals" :key="goal._id" class="glass rounded-2xl p-6 border-l-4" :class="{
             'border-green-400': goal.priority === 'low', 
             'border-yellow-400': goal.priority === 'medium', 
             'border-red-400': goal.priority === 'high' 
          }">
            <div class="flex justify-between items-start mb-2">
              <h3 class="text-xl font-bold">{{ goal.title }}</h3>
              <button @click="deleteGoal(goal._id)" class="text-red-400 hover:text-red-300"><i class="ph-bold ph-trash"></i></button>
            </div>
            <div class="flex items-center gap-2 text-sm opacity-70 mb-4">
              <i class="ph-bold ph-calendar"></i>
              <span>Due: {{ formatDate(goal.deadline) }}</span>
            </div>
            
            <div class="mb-2 flex justify-between text-sm">
             <span>Progress</span>
             <span>{{ goal.progress || 0 }} / {{ goal.target }} {{ goal.unit }}</span>
            </div>
            <div class="w-full bg-gray-700 h-2 rounded-full overflow-hidden">
               <div class="h-full bg-purple-500 rounded-full" :style="{ width: Math.min(((goal.progress || 0) / goal.target) * 100, 100) + '%' }"></div>
            </div>
          </div>
        </div>
       </div>

       <!-- AI Floating Button and Popup -->
       <div v-if="isAuthenticated && !showLoader" class="fixed bottom-6 right-6 z-50">
        <!-- Floating Trigger Button -->
        <button 
            @click="showAIChat = !showAIChat"
            class="w-16 h-16 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 shadow-lg shadow-purple-500/30 flex items-center justify-center hover:scale-110 transition-transform duration-300 group"
        >
            <i :class="showAIChat ? 'ph-bold ph-x' : 'ph-bold ph-robot'" class="text-3xl text-white group-hover:rotate-12 transition-transform"></i>
            <!-- Notification Dot -->
            <span class="absolute top-0 right-0 w-4 h-4 bg-red-500 rounded-full animate-pulse border-2 border-gray-900" v-if="!showAIChat"></span>
        </button>

        <!-- AI Chat Popup Modal -->
        <div v-if="showAIChat" class="absolute bottom-20 right-0 w-[400px] h-[600px] glass-strong rounded-2xl flex flex-col overflow-hidden shadow-2xl animate-slideUp border border-purple-500/30">
            <!-- Header -->
            <div class="p-4 bg-gradient-to-r from-purple-900/80 to-indigo-900/80 border-b border-white/10 flex justify-between items-center backdrop-blur-md">
                <div class="flex items-center gap-3">
                    <div class="relative">
                        <div class="w-10 h-10 rounded-full bg-gradient-to-br from-purple-400 to-pink-400 p-0.5">
                            <img src="https://api.dicebear.com/7.x/bottts/svg?seed=StudyFlow" class="w-full h-full rounded-full bg-black/20" alt="AI">
                        </div>
                        <span class="absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-gray-900 rounded-full"></span>
                    </div>
                    <div>
                        <h3 class="font-bold text-white leading-tight">StudyFlow AI</h3>
                        <p class="text-xs text-purple-200">Online ‚Ä¢ Helpful Assistant</p>
                    </div>
                </div>
                <button @click="showAIChat = false" class="hover:bg-white/10 p-2 rounded-lg transition-colors">
                    <i class="ph-bold ph-minus text-white"></i>
                </button>
            </div>

            <!-- Messages Area -->
            <div class="flex-1 overflow-y-auto p-4 space-y-4" id="ai-chat-container">
                <!-- Welcome Message -->
                <div class="flex gap-3">
                     <div class="w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center shrink-0">
                         <i class="ph-bold ph-robot text-white text-sm"></i>
                     </div>
                     <div class="glass p-3 rounded-2xl rounded-tl-none max-w-[85%]">
                         <p class="text-sm text-gray-200">Hello {{ userFullName }}! üëã I'm your deeper study assistant. I can see your tasks and goals. How can I help you today?</p>
                     </div>
                </div>

                <!-- Chat Loop -->
                <div v-for="(msg, index) in aiChatHistory" :key="index" class="flex gap-3" :class="msg.role === 'user' ? 'flex-row-reverse' : ''">
                     <div class="w-8 h-8 rounded-full flex items-center justify-center shrink-0" 
                          :class="msg.role === 'user' ? 'bg-blue-600' : 'bg-purple-600'">
                         <i :class="msg.role === 'user' ? 'ph-bold ph-user' : 'ph-bold ph-robot'" class="text-white text-sm"></i>
                     </div>
                     <div class="p-3 rounded-2xl max-w-[85%] text-sm" 
                          :class="msg.role === 'user' ? 'bg-blue-600 text-white rounded-tr-none' : 'glass text-gray-200 rounded-tl-none'">
                         <p class="whitespace-pre-wrap">{{ msg.content }}</p>
                     </div>
                </div>

                <!-- Loading Typing Indicator -->
                <div v-if="aiLoading" class="flex gap-3">
                     <div class="w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center shrink-0">
                         <i class="ph-bold ph-robot text-white text-sm"></i>
                     </div>
                     <div class="glass p-3 rounded-2xl rounded-tl-none">
                         <div class="flex gap-1.5 p-1">
                             <div class="w-1.5 h-1.5 bg-purple-400 rounded-full animate-bounce"></div>
                             <div class="w-1.5 h-1.5 bg-purple-400 rounded-full animate-bounce delay-75"></div>
                             <div class="w-1.5 h-1.5 bg-purple-400 rounded-full animate-bounce delay-150"></div>
                         </div>
                     </div>
                </div>
            </div>

            <!-- Input Area -->
            <div class="p-4 border-t border-white/10 bg-black/20 backdrop-blur-md">
                <div class="relative">
                    <input 
                        v-model="aiPrompt" 
                        @keyup.enter="askAI" 
                        type="text" 
                        class="w-full pl-4 pr-12 py-3 rounded-xl bg-gray-800/50 border border-white/10 focus:border-purple-500 focus:ring-1 focus:ring-purple-500 text-sm transition-all" 
                        placeholder="Ask something..."
                    >
                    <button 
                        @click="askAI" 
                        :disabled="aiLoading || !aiPrompt.trim()"
                        class="absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 bg-purple-600 hover:bg-purple-500 rounded-lg flex items-center justify-center transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
                    >
                        <i class="ph-bold ph-paper-plane-right text-white"></i>
                    </button>
                </div>
            </div>
        </div>
       </div>

       <div v-if="currentView === 'blog'" class="max-w-6xl mx-auto animate-fadeIn">
        <div class="text-center mb-10">
         <h2 class="text-4xl font-bold mb-2 flex items-center justify-center gap-3"><i class="ph-bold ph-article text-blue-400 text-5xl"></i> Study Blog</h2>
         <p class="text-lg opacity-80">Discover tips, insights, and stories to boost your productivity</p>
        </div>
        
        <div v-if="!blogsPublic.length" class="glass rounded-3xl p-12 text-center">
         <div class="w-24 h-24 mx-auto mb-6 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center">
          <i class="ph-bold ph-notebook text-4xl text-white"></i>
         </div>
         <h3 class="text-2xl font-semibold mb-3">No Blog Posts Yet</h3>
         <p class="text-lg opacity-70 mb-6">We're working on bringing you amazing content. Check back soon!</p>
         <div class="flex justify-center gap-2">
          <div class="w-3 h-3 bg-blue-400 rounded-full animate-bounce" style="animation-delay: 0s;"></div>
          <div class="w-3 h-3 bg-purple-400 rounded-full animate-bounce" style="animation-delay: 0.1s;"></div>
          <div class="w-3 h-3 bg-pink-400 rounded-full animate-bounce" style="animation-delay: 0.2s;"></div>
         </div>
        </div>
        
        <div v-else class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
         <div v-for="blog in blogsPublic" :key="blog._id" @click="selectedBlog = blog" class="glass rounded-3xl overflow-hidden hover:scale-105 transition-all duration-300 hover:shadow-2xl group cursor-pointer h-full flex flex-col">
          <div class="h-48 overflow-hidden relative">
             <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
             <img :src="blog.image || 'https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?q=80'" alt="Blog Cover" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700">
             <div class="absolute top-4 right-4 z-20">
                <span class="px-3 py-1 bg-black/50 backdrop-blur-md rounded-full text-xs font-bold text-white border border-white/10">Read</span>
             </div>
          </div>
          
          <div class="p-6 flex-1 flex flex-col">
           <div class="flex items-center gap-2 text-xs opacity-60 mb-3">
            <i class="ph-bold ph-calendar"></i>
            <span>{{ formatDate(blog.createdAt || blog._id) }}</span>
           </div>
           
           <h3 class="text-xl font-bold mb-3 group-hover:text-purple-400 transition-colors leading-tight">{{ blog.title }}</h3>
           
           <p class="text-sm opacity-70 leading-relaxed mb-4 line-clamp-3">{{ blog.content }}</p>
           
           <div class="mt-auto pt-4 border-t border-white/10 flex items-center justify-between">
            <div class="flex items-center gap-2 text-sm font-medium text-purple-300">
             <span>Read Article</span>
            </div>
            <div class="w-8 h-8 rounded-full bg-white/5 flex items-center justify-center group-hover:bg-purple-600 transition-colors">
             <i class="ph-bold ph-arrow-right group-hover:text-white transition-colors"></i>
            </div>
           </div>
          </div>
         </div>
        </div>
        
        <!-- Blog Detail Modal -->
        <div v-if="selectedBlog" class="fixed inset-0 z-50 flex items-center justify-center p-4 modal-backdrop overflow-y-auto" @click="selectedBlog = null">
            <div class="glass-strong rounded-3xl max-w-4xl w-full my-8 animate-slideUp overflow-hidden flex flex-col max-h-[90vh] shadow-2xl border border-white/10" @click.stop>
                <div class="relative h-64 sm:h-80 shrink-0">
                    <img :src="selectedBlog.image" class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent"></div>
                    <div class="absolute inset-0 bg-gradient-to-b from-black/30 to-transparent"></div>
                    
                    <button @click="selectedBlog = null" class="absolute top-4 right-4 w-10 h-10 rounded-full bg-black/40 hover:bg-black/60 backdrop-blur-md flex items-center justify-center transition-colors text-white z-50 group border border-white/10">
                        <i class="ph-bold ph-x text-xl group-hover:rotate-90 transition-transform duration-300"></i>
                    </button>
                    
                    <div class="absolute bottom-0 left-0 p-6 sm:p-10 w-full z-10">
                         <span class="px-3 py-1 bg-purple-600 rounded-full text-xs font-bold text-white mb-4 inline-block shadow-lg shadow-purple-900/50">Productivity</span>
                         <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold text-white leading-tight mb-4 drop-shadow-lg">{{ selectedBlog.title }}</h2>
                         <div class="flex items-center gap-6 text-gray-200 text-sm font-medium">
                             <span class="flex items-center gap-2"><i class="ph-bold ph-calendar text-purple-400"></i> {{ formatDate(selectedBlog.createdAt) }}</span>
                             <span class="flex items-center gap-2"><i class="ph-bold ph-user text-blue-400"></i> StudyFlow Admin</span>
                             <span class="flex items-center gap-2"><i class="ph-bold ph-clock text-pink-400"></i> 5 min read</span>
                         </div>
                    </div>
                </div>
                
                <div class="p-6 sm:p-10 overflow-y-auto bg-black/20 backdrop-blur-xl">
                    <div class="prose prose-invert max-w-none">
                        <p class="text-lg opacity-90 leading-relaxed whitespace-pre-wrap font-light text-gray-100">{{ selectedBlog.content }}</p>
                    </div>
                    
                    <div class="mt-12 p-6 glass rounded-2xl flex items-center justify-between border border-white/5">
                        <div class="flex items-center gap-4">
                            <div class="w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-xl font-bold">SF</div>
                            <div>
                                <h4 class="font-bold mb-0.5">Written by StudyFlow</h4>
                                <p class="text-xs opacity-60">Productivity Experts</p>
                            </div>
                        </div>
                         <div class="flex gap-2">
                             <button class="w-10 h-10 rounded-xl bg-white/5 hover:bg-white/10 flex items-center justify-center transition-colors border border-white/5"><i class="ph-bold ph-share-network"></i></button>
                             <button class="w-10 h-10 rounded-xl bg-white/5 hover:bg-white/10 flex items-center justify-center transition-colors border border-white/5"><i class="ph-bold ph-bookmark-simple"></i></button>
                         </div>
                    </div>
                </div>
            </div>
        </div>

        <div v-if="blogsPublic.length > 0" class="text-center mt-10">
         <p class="text-lg opacity-70">More content coming soon! Stay tuned for updates.</p>
        </div>
       </div>
       
       <footer class="glass-strong border-t border-gray-700 p-6">
       <div class="max-w-6xl mx-auto"><div class="grid md:grid-cols-4 gap-8 mb-8"><div>
          <div class="flex items-center gap-2 mb-4"><i class="ph-bold ph-brain text-2xl text-purple-400"></i>
           <h3 class="text-lg font-bold">StudyFlow</h3>
          </div>
          <p class="text-sm opacity-70 mb-4">Your ultimate focus and productivity companion. Built to help students and professionals achieve their goals.</p>
          <div class="flex gap-3"><a href="https://github.com" target="_blank" rel="noopener noreferrer" class="w-10 h-10 rounded-lg bg-white/10 hover:bg-white/20 flex items-center justify-center"> <i class="ph-bold ph-github-logo text-xl"></i> </a> <a href="https://twitter.com" target="_blank" rel="noopener noreferrer" class="w-10 h-10 rounded-lg bg-white/10 hover:bg-white/20 flex items-center justify-center"> <i class="ph-bold ph-twitter-logo text-xl"></i> </a> <a href="https://linkedin.com" target="_blank" rel="noopener noreferrer" class="w-10 h-10 rounded-lg bg-white/10 hover:bg-white/20 flex items-center justify-center"> <i class="ph-bold ph-linkedin-logo text-xl"></i> </a>
          </div>
         </div><div>
          <h3 class="text-lg font-bold mb-4">Features</h3>
          <ul class="space-y-2 text-sm opacity-70">
           <li class="flex items-center gap-2"><i class="ph-bold ph-check text-purple-400"></i> Pomodoro Timer</li>
           <li class="flex items-center gap-2"><i class="ph-bold ph-check text-purple-400"></i> Task Management</li>
           <li class="flex items-center gap-2"><i class="ph-bold ph-check text-purple-400"></i> Study Analytics</li>
           <li class="flex items-center gap-2"><i class="ph-bold ph-check text-purple-400"></i> Custom Themes</li>
           <li class="flex items-center gap-2"><i class="ph-bold ph-check text-purple-400"></i> Focus Music</li>
          </ul>
         </div><div>
          <h3 class="text-lg font-bold mb-4">Quick Links</h3>
          <ul class="space-y-2 text-sm">
           <li><button @click="currentView = 'home'" class="opacity-70 hover:opacity-100 hover:text-purple-400"> Home </button></li>
           <li><button @click="currentView = 'timer'" class="opacity-70 hover:opacity-100 hover:text-purple-400"> Focus Timer </button></li>
           <li><button @click="currentView = 'tasks'" class="opacity-70 hover:opacity-100 hover:text-purple-400"> Tasks </button></li>
           <li><button @click="currentView = 'analytics'" class="opacity-70 hover:opacity-100 hover:text-purple-400"> Analytics </button></li>
           <li><button @click="showDeveloperModal = true" class="opacity-70 hover:opacity-100 hover:text-purple-400"> About Developer </button></li>
          </ul>
         </div><div>
          <h3 class="text-lg font-bold mb-4">Get in Touch</h3>
          <ul class="space-y-3 text-sm opacity-70">
           <li class="flex items-center gap-2"><i class="ph-bold ph-envelope text-purple-400"></i> <a href="mailto:hello@studyflow.app" class="hover:text-purple-400">hello@studyflow.app</a></li>
           <li class="flex items-center gap-2"><i class="ph-bold ph-globe text-purple-400"></i> <a href="https://studyflow.app" target="_blank" rel="noopener noreferrer" class="hover:text-purple-400">studyflow.app</a></li>
           <li class="flex items-center gap-2"><i class="ph-bold ph-calendar text-purple-400"></i> {{ currentDateTime }}</li>
          </ul>
         </div>
        </div><div class="pt-6 border-t border-gray-700">
         <div class="flex flex-col md:flex-row justify-between items-center gap-4 text-sm opacity-70">
          <div class="flex items-center gap-2"><i class="ph-bold ph-copyright text-purple-400"></i> <span>{{ new Date().getFullYear() }} StudyFlow. All rights reserved.</span>
          </div>
          <div class="flex items-center gap-2"><i class="ph-bold ph-code text-purple-400"></i> <span>Crafted with</span> <i class="ph-fill ph-heart text-red-400"></i> <span>by</span> <button @click="showDeveloperModal = true" class="font-semibold text-purple-400 hover:text-purple-300">Salah Uddin Kader</button>
          </div>
          <div class="flex items-center gap-4"><span>Made with Vue.js &amp; Tailwind CSS</span>
          </div>
         </div>
        </div>
       </div>
      </footer>
    </main>
   </div>
  </div>
  <script src="Assets/script.js"></script>
  
  <!-- PWA Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => {
            console.log('‚úÖ Service Worker registered successfully:', registration.scope);
          })
          .catch(error => {
            console.log('‚ùå Service Worker registration failed:', error);
          });
      });
    }

    // PWA Install Prompt
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      
      // Show install button/banner (optional UI)
      console.log('üí° App can be installed!');
      
      // You can show a custom install button here
      // For now, browser will show default install prompt
    });

    // Track if app was installed
    window.addEventListener('appinstalled', () => {
      console.log('üéâ StudyFlow installed successfully!');
      deferredPrompt = null;
    });
  </script>
 </body>
</html>